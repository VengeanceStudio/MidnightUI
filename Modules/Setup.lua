local MidnightUI = LibStub("AceAddon-3.0"):GetAddon("MidnightUI")
local Setup = MidnightUI:NewModule("Setup", "AceEvent-3.0")

-- Framework systems
local FrameFactory, ColorPalette, FontKit

local defaults = {
    profile = {
        hasCompletedSetup = false,
    }
}

-- Edit Mode preset strings for each resolution
local editModePresets = {
    ["4K"] = "YOUR_4K_EDIT_MODE_STRING_HERE",
    ["1440p"] = "2 50 0 0 0 7 7 UIParent -0.0 2.0 -1 ##$$%/&%'%)$+#,$ 0 1 0 8 2 MainActionBar 0.0 4.0 -1 ##$$%/&%'%(#,$ 0 2 0 8 2 MultiBarBottomLeft 0.0 4.0 -1 ##$$%/&%'%(#,$ 0 3 0 7 7 UIParent -1.3 109.0 -1 ##$$%/&%'%(#,# 0 4 0 8 6 MainActionBar -4.0 0.0 -1 ##$%%/&%'%(#,$ 0 5 0 6 8 MainActionBar 4.0 0.0 -1 ##$%%/&%'%(#,$ 0 6 0 7 7 UIParent 500.1 0.7 -1 ##$&%/&%'%(#,$ 0 7 0 7 7 UIParent -1.3 145.3 -1 ##$$%/&%'%(#,# 0 10 0 4 4 UIParent 569.0 -440.0 -1 ##$$&('% 0 11 0 7 7 UIParent 447.2 201.7 -1 ##$$&('%,# 0 12 1 7 7 UIParent 0.0 45.0 -1 ##$$&('% 1 -1 1 4 4 UIParent 0.0 0.0 -1 ##$#%# 2 -1 0 2 2 UIParent 0.0 0.0 -1 ##$#%* 3 0 0 3 3 UIParent 454.5 -224.7 -1 $#3* 3 1 0 4 4 UIParent 812.3 -321.4 -1 %#3* 3 2 0 7 7 UIParent 753.5 328.0 -1 %#&#3# 3 3 0 0 0 UIParent 789.7 -969.0 -1 '$(#)$-I.7/#1#3#5#6+7-7$ 3 4 1 0 2 CompactRaidFrameManager 0.0 -5.0 -1 ,#-#.#/#0#1#2(5#6-6$7-7$ 3 5 0 2 2 UIParent -1894.0 -184.7 -1 &#*$3# 3 6 1 5 5 UIParent 0.0 0.0 -1 -#.#/#4$5#6-6$7-7$ 3 7 1 4 4 UIParent 0.0 0.0 -1 3# 4 -1 0 0 0 UIParent 581.7 -1084.0 -1 # 5 -1 0 4 4 UIParent -380.0 -420.0 -1 # 6 0 0 2 2 UIParent -233.9 -25.5 -1 ##$#%#&.(()( 6 1 0 2 8 BuffFrame -15.0 -4.0 -1 ##$#%#'+(()(-$ 6 2 1 1 1 UIParent 0.0 -25.0 -1 ##$#%$&.(()(+#,-,$ 7 -1 0 4 4 UIParent 0.0 -280.8 -1 # 8 -1 0 6 6 UIParent 32.0 32.0 -1 #&$g%%&# 9 -1 1 7 7 UIParent 0.0 45.0 -1 # 10 -1 1 0 0 UIParent 16.0 -116.0 -1 # 11 -1 0 8 2 BagsBar -0.5 3.5 -1 # 12 -1 0 5 5 UIParent -2.0 8.3 -1 #7$#%% 13 -1 0 8 8 UIParent -5.2 3.4 -1 ##$#%%&# 14 -1 0 8 2 MicroMenuContainer 0.5 3.5 -1 ##$#%# 15 0 0 1 1 UIParent 8.4 -46.3 -1 # 15 1 0 1 1 UIParent 8.3 -67.7 -1 # 16 -1 1 5 5 UIParent 0.0 0.0 -1 #( 17 -1 1 1 1 UIParent 0.0 -100.0 -1 ## 18 -1 1 5 5 UIParent 0.0 0.0 -1 #- 19 -1 1 7 7 UIParent 0.0 0.0 -1 ## 20 0 0 4 4 UIParent 4.9 -238.4 -1 ##$7%$&&'+(-($)#+$,$-$ 20 1 0 7 7 UIParent 0.6 272.1 -1 ##$7%$&''#(-($)#+$,$-$ 20 2 0 4 4 UIParent 0.5 -182.5 -1 ##$$%#&''-(-($)#+$,$-$ 20 3 0 7 7 UIParent 1.6 229.3 -1 #+$,$-%#&('#(-($)#*%+$,$-$.U 21 -1 1 7 7 UIParent -410.0 380.0 -1 ##$# 22 0 0 7 7 UIParent -960.0 1.0 -1 #,$+%#&('#(#)#*$+#,$ 22 1 0 7 7 UIParent 18.0 962.0 -1 &('()#*#+$ 22 2 1 1 1 UIParent 0.0 -270.0 -1 &('()#*#+$ 22 3 1 1 1 UIParent 0.0 -315.0 -1 &('()#*#+$ 23 -1 0 8 8 UIParent -5.3 76.2 -1 ##$#%#&7'U(#)U+$,.-&.(/A",
    ["1080p"] = "2 50 0 0 0 7 7 UIParent -0.0 2.0 -1 ##$$%/&$'%)$+#,$ 0 1 0 8 2 MainActionBar 0.0 4.0 -1 ##$$%/&$'%(#,$ 0 2 0 8 2 MultiBarBottomLeft 0.0 4.0 -1 ##$$%/&$'%(#,$ 0 3 0 7 7 UIParent 0.8 96.5 -1 ##$$%/&$'%(#,# 0 4 0 8 6 MainActionBar -4.0 0.0 -1 ##$%%/&$'%(#,$ 0 5 0 6 8 MainActionBar 4.0 0.0 -1 ##$%%/&$'%(#,$ 0 6 0 7 7 UIParent 431.7 1.5 -1 ##$&%/&$'%(#,$ 0 7 0 7 7 UIParent 1.1 127.9 -1 ##$$%/&$'%(#,# 0 10 0 4 4 UIParent 569.0 -440.0 -1 ##$$&('% 0 11 0 1 1 UIParent 459.0 -982.0 -1 ##$$&''%,# 0 12 1 7 7 UIParent 0.0 45.0 -1 ##$$&('% 1 -1 1 4 4 UIParent 0.0 0.0 -1 ##$#%# 2 -1 0 2 2 UIParent 0.0 0.0 -1 ##$#%* 3 0 0 3 3 UIParent 454.5 -224.7 -1 $#3* 3 1 0 4 4 UIParent 812.3 -321.4 -1 %#3* 3 2 0 7 7 UIParent 753.5 328.0 -1 %#&#3# 3 3 0 0 0 UIParent 789.7 -969.0 -1 '$(#)$-I.7/#1#3#5#6+7-7$ 3 4 1 0 2 CompactRaidFrameManager 0.0 -5.0 -1 ,#-#.#/#0#1#2(5#6-6$7-7$ 3 5 0 2 2 UIParent -1730.7 -893.0 -1 &#*$3# 3 6 1 5 5 UIParent 0.0 0.0 -1 -#.#/#4$5#6-6$7-7$ 3 7 1 4 4 UIParent 0.0 0.0 -1 3# 4 -1 0 0 0 UIParent 581.7 -1084.0 -1 # 5 -1 0 4 4 UIParent -380.0 -420.0 -1 # 6 0 0 2 2 UIParent -233.9 -25.5 -1 ##$#%#&.(')( 6 1 0 2 8 BuffFrame -15.0 -4.0 -1 ##$#%#'+(')(-$ 6 2 1 1 1 UIParent 0.0 -25.0 -1 ##$#%$&.(()(+#,-,$ 7 -1 0 4 4 UIParent 0.0 -280.8 -1 # 8 -1 0 6 6 UIParent 32.0 32.0 -1 #&$#%$&U 9 -1 1 7 7 UIParent 0.0 45.0 -1 # 10 -1 1 0 0 UIParent 16.0 -116.0 -1 # 11 -1 0 8 2 BagsBar -0.5 3.5 -1 # 12 -1 0 5 5 UIParent -2.0 -52.7 -1 #7$#%% 13 -1 0 8 8 UIParent -5.2 3.4 -1 ##$#%$&# 14 -1 0 8 2 MicroMenuContainer 0.5 3.5 -1 ##$#%# 15 0 0 1 1 UIParent 8.4 -46.3 -1 # 15 1 0 1 1 UIParent 8.3 -67.7 -1 # 16 -1 1 5 5 UIParent 0.0 0.0 -1 #( 17 -1 1 1 1 UIParent 0.0 -100.0 -1 ## 18 -1 1 5 5 UIParent 0.0 0.0 -1 #- 19 -1 1 7 7 UIParent 0.0 0.0 -1 ## 20 0 0 4 4 UIParent 2.0 -244.1 -1 ##$7%$&%'+(-($)#+$,$-$ 20 1 0 7 7 UIParent 0.8 250.8 -1 ##$7%$&%'%(-($)#+$,$-$ 20 2 0 4 4 UIParent -1.7 -181.7 -1 ##$$%#&&'#(-($)#+$,$-$ 20 3 0 7 7 UIParent -0.7 199.5 -1 #+$,$-%#&&'#(-($)#*%+$,$-$.U 21 -1 1 7 7 UIParent -410.0 380.0 -1 ##$# 22 0 0 7 7 UIParent -960.0 1.0 -1 #,$+%#&('#(#)#*$+#,$ 22 1 0 7 7 UIParent 18.0 962.0 -1 &('()#*#+$ 22 2 1 1 1 UIParent 0.0 -270.0 -1 &('()#*#+$ 22 3 1 1 1 UIParent 0.0 -315.0 -1 &('()#*#+$ 23 -1 0 8 8 UIParent -5.3 76.2 -1 ##$#%#&7'U(#)U+$,.-&.(/A",
}

-- MidnightUI preset strings for each resolution
local midnightUIPresets = {
    ["4K"] = "YOUR_4K_MIDNIGHTUI_STRING_HERE",
    ["1440p"] = "MUIV2:034E0D4B002592D42849D12949C92D92D80555FDA2A20C03394662990ACFA0324D54D728659B28BE49C538513A47521D2449B210E021A8262A512E82622354F92829355289EA241559499294BC944A556652C14D25B253D54F501A4A528E9224962AE1293155A5AB52295BA552555FA5522563A552394B45D55A92A4EA2D95BA4B257BD15F92A4D4601187492D56D263A99AACA2CB8ACD803E5395D140A7957A2D29CC96729B52ED96F80D194EC97192A46239C57328D385EB54D94E85BE5355E325392F95AC9754F3A9A8EC17E9564952746C2A55EAE154AA7855921456952495A6C24BB1EB5D782976747A6D305E8A5D5B1801946E4E002F02158C008AEE63A3B26A8371A5847F740D8C000A36E15904507A84DA89FC05E34AC16AEC821140F1CA0EA0D1F6C108A0ACDA10C0A00438F6E1A5AC3E386AC8F0F2153E84AFF00F3E84AFF0717C085FE1E77C083FCBA00051090A9ED9F53451C5D3A7D1A1D3E45E0A1095905D1FBE72505664CE3170D490E1E52B7C887FF0213E8E0FF173BEC260302845DB07B3743F182FE5FA47D7C07829E03EA7B6E9B24054300228588D6DC1BDC0FA298371A5682FD0622CBD0D0114ED055A8CA5B7A9EDED7672A56CBB854CC03A8EF19B1D0353F4DAE62480A2BD40D29B99828128B852B41768D9B489218062C671745BD2160114ED05722AD898E8BEE92280A2BD4032ADA95A5EA9410005DCE700B40FA00D0114A0C6C201A12080419109CFE2A5801A8323BBD526E69409CF22804159D216C64BC140E457F5A80C570A0622FF35BAAFB18B8F00CAEA45A002D0C679E2A9E41905CA28EA792757CF646D9D0C812A794E41402036D11D5FE95080A804AC176D97A1C076BB0E4E0F43E91BEA6BF052BAF82A07A5E243140BED121400ECBDB04B941E356478F90A5FE11F7C858FE32BFC9CAF3018146CD7877F1C10C5AE77830502B109E7F92A0AC5AE77830502B189EEF82A0A457B81543D42760228AB17810A401B8017810AA6366681FC7C05A2AC5E042A006D54557A1019CA85555B38D55E7E2916C2766C5478295DC453C9A82BD98C0265B347C696C541380255F22CA5229E4A06826C998CBA7AAE9ECDD8D4B339812AB6834141402036E13CDF46C1406D0D4554E9A6AA050C0503917FD9060277EFB5E8E24A01A212B2EBC3570ECAEA45A002D0068E1A32BC14CD5728860FE1DB283E3E846FA3AC7C08DFC6A0AC5E042A006DE0A8356D6173CAAE0FFF80283D42E6C478295D7CE5A0547C8862A15D820280BD177689D2A3860C2F5FE12BFC83AFF0717C859FF31506838281C80FD76DCAA90D570A0622BF2ADE78430065F5225001682396EE77F1F121CAEA45A002D0A61B36F0A6310C8E1A3204503010F9E1089913E34A393710B87BAF45172C10884D74C757C9D828E7060277EFB5E8820502B109E7F92A364A1D95E1A574F16D948A0F512CB44B502EAC1AA5470D195EBEC257F8071FC2CFF2717C889FF3150683B27A11A800B481297A6D731240C140E45FDA18B651C1B8523010F997F46E0450562F02158036002F0215D9F5E1E30E0A06223FBCA1BE0657CAEA45A002D0A6B641FE00976D337D6C54286D804159BD085400DA38F5A848AFDBF0150A1095A0E0995D4F13553C7D1A1D3A4DEEA5AC5E042A006DBAE3AB28F8B65C5132EA991C974387C2A0488D5D7829588D5D00DA871140C16AECA2AA3E362A006D300228AB17810A0099730C1C356478F90A1FE21F7C888FE343FC9CAF3028588D5D006DD7EBDA9C7846DB07238082D5D8A55BD98167B47D30AE94D58B4005A0FB1A3E83BC72C251438697AFF0217C857FF0217C858FE343F80A3FE743F8590605ABB10B1CD48167B47D30AE14ACC62ECB7468804135C600B4C108A060357659DA65DBB5450005ABB14B37278017810A460005ABB1CB45A8C5B6300228BE8656DDA4C62E94A57D96ED038341E9E604F02250C1782953F4DAE6248002442564D7877F4014ACD76DF8107E86D2CD09E045A082F152A6DAC14B99A2D73627011464CE31FC834141566C54305ECA14BDB63909A020738EE1E318147D9EA860BC94297A6D73124041E61CC3CF19143B721C5ECA14BDB63909A020738EE1DB1814330DE993973245AF6D4E0228C89C63F80A834101A212143CB3EB69A28AA74FA343A7C9BD140B613B362ABC942EE2E5D96C47C9646C0ACED6E9A867730255F20CA5229E4AE7C8B3EA1928C7A977145C475D21502557A7586897A00060EF855D5A38D55E7E199486FA1A7372A5ACBAAFE133C82B271C356478F90AF13AB8BC03E5EA394E3DA30E756C3602556C19FE41BC0E2EEF40B97A8E53CFA8431D9B8D40155B868F235E079777A05C3DC7A967D4A18ECD46A08A2DC3CF8997B5656C4AA6A31C9943C974201B812AB69C41C12CDDEFE2E31F0C4AB7B203CF68FB60BC94156198C24BD1A507915143BB0465E1547BF9A55808739E78B94DB1E114759BA28EEBA8E7B60E812A794EB1907F0C2FA56F1AC3E0A821C39502CEF681C1CF5062AAA0B87BCF58962B4D9CA589DBAE2BCB725162AA504318050EF317664189A9C2334301B45DAF6B73A6C942EF334D00DA3028669A8EED386A6897A02C9C6A2FBF1470740B909702442564D787AF64283155A899C126305EBEC24B29DA3E14B867CC9448136769B2A4AB34A9A936A69F12B5288EBA794371F79E012D579A384B13B75D57A0E54A939A6E6B0C68B954D762F00F5E4AD1F6A1C03D63A6449AC096D64571D4CD1B8ABBF70C68B9187C1C2FA568FB5096749526B0A575511C75F386E2B6EB0AB45C0C7ECE4B29DA3E14B531FD944813D8D2BA288EBA7943715B6340CBA59AC1A0F4A821C3CB57F810FEC13FF8107E964189A982E2EE3D035AAE347196266EBBAE40CB952635DDD618D072A9AE4589A9420D611438CC5F9805A56F1AC3E0A821C3951253057C4A8CA1B8AD31A0E5529D26CE399726EEDE33A0E5A280B37D60F08F2C25A60ACF0C05D076BDAECD99260BBDCF340168C3A05808EB8E782A3645C9E4903A4E513F329092810854C973CA2E40C44B01A212B2EBC35770941E356478F9391F625074B340CD87287DD31806470D19AE94982AE053620C8502CEF681C15732141DA17BF0228A85FC632831552CB60F0C8ABB8DE3341725A60ACF0C05D076BDAECD99260BBDCF340168C360503010F9D59AEE1A43002550A8216CC7468597D2C557C974724AC5B7656D0C4A68E39B5043D88E8D0A2FA58BAFD251EF502ABE92773A0C0A66E97E171F1FA28436BE095E8A2E3D888C1ADA25287098BF300B8A85B01D1B155E4A171FA2547CDC01512CB44B502EAC9A030CDE65507601225E0A1095905D1FBE82A3005109386AC8F0F215BEC23FF80A1FC757F8395F61507AD490E1E52B7C083FCB3FF8107E968FE343F8073FE7430CCAEA83A3860C2F5FE143FC830FF1717C889F132FA3E4365B0EE1D4958C7A36C71D04AAD8700C4A4C15F02931864201A212B05EB45D8602DBED3A383D0C25A60ACF0C05D076BDAECD99260BBDCF3401684399A2D736270194982A1C06181477D1F6715174B340CD8728FE7D06C83F0E88D2378D6170D490E14A01A212143CB3EB69A28AA74FA343A7C9BD1470B60F0CBE92A1C454B1D83E3028EE368ED35C141DA17BF0228A85FC6318140BF9C7F052A6E8B5CD490025A68AC5F68141A1005109386AC8F0F215BEC23FF80A1FC757F8395F615080A884ECFAF09583D2A3860C2F5FE143F807FFE043F8391FC787F0B3FC9CAF3028315550DCBD672CCB9526CED2C46DD79565B9283155A8218C0287F90BB3A0F8F71920FF3820CAEA83A3860C2F5FE143FC830FF1717C889F132FA3A81F799EC942B8A3A39EEDE00854B1E50C0A1095A0E0995D4F13553C7D1A1D3A4DEEA5C454019F12632814202A01EB45DB6528B0DDAE83D3C350C0D93E30F8194ADF3486C15143862B25A60A8701068512538567860268BB5ED7E64C9385DE679A00B46150CC341DDB71D4D02E4181C3FC8559502C847547BCCC91CD1C1D9BA26ECBA8AB1F1044A04A9E53C0D12D405E0A1095905D1FBE92A1005109386AC8F0F215BEC23FF80A1FC757F8395F615062AA5033834D60BC7C859752B47D2870CF98299126CED26449576952536D4C3F256A511C75F386E2EE3D035AAE347196266EBBAE40CB952635DDD618D072A9AEC5E01FBC94A2ED43817BC64C8934812DAD8BE2A89B371477EF19D07231F8385E4AD1F6A12CE92A4D604BEBA238EAE60DC56DD71568B918FC9C9752B47D286A63FA299126B0A575511C75F386E2B6C680964B358341E951438697AFF021FC837FF021FC2C1FC787F00F7ECE571894982AD4104681C3FC855950561F1C356478F90A1FE21F7C888FE343FC9C0FE1DB1894982AE053620CC56D8D012D97EA3471CEB93471F79E012D1705884AC07AD176190A6CB7EBE0F43094982A3C331440DBF5BA36679A2CF43ED304A00D658A5EDB9C045062AA7018605028315550DCBD6740CB9526CED2C46DD71568B9D2A4A6DB1A035A2ED5B528FE7D06C83F0E88D2378D6170D490E14A01A212143CB3EB69A28AA74FA343A7C9BD1470B60F0CFE91A5C454B1D83E30280C8A8530E789A792CD955C1D071D394E3DCFF33C4BA04A6E6350568461072F45971E44460DED12948553EDE5976221CC79E26570EA4A56E9D83AB92DEFE4B60C812AB98D6221FF185E4ADF3486C15143862B059CED03839FA1C4544171F79EB12C579A384B13B75D5796E5A2C454A186300A1CE62FCC8212538567860268BB5ED7E64C9385DE679A00B46150CC341DDB71D4D02E415938D55E7E29E0E816202F05884AC8AE0F5FC95062AA5033834D60BC7C859752B47D2870CF98299126CED26449576952536D4C3F256A511C75F386E2EE3D035AAE347196266EBBAE40CB952635DDD618D072A9AEC5E01FBC94A2ED43817BC64C8934812DAD8BE2A89B371477EF19D07231F8385E4AD1F6A12CE92A4D604BEBA238EAE60DC56DD71568B918FC9C9752B47D286A63FA299126B0A575511C75F386E2B6C680964B358341E951438697AFF021FC837FF021FC2C83125305C5DD7B06B45C69E22C4DDC765D81962B4D6ABAAD31A0E5525D8B1253851AC2287098BF300B4ADF3486C15143862B25A60AF8941843715B6340CBA53A4D9C732E4DDCBD6740CB450167FBC0E01F594A4C159E190AA0ED7A5D9B334D167A9F6902D08641B110D61DF1546C0AA474725C46C9D86C1DC8D6215025CF29BB00112F05884AC8AE0F5FC1517AD490E1E5E77C8841D1CD02351FA2F44D63181C3564B85262AA804F8931140A38DB07065FC9507484EEC18B2816F28FA1C454B1D83E3028EE368ED35C94982A3C331440DBF5BA36679A2CF43ED304A00D8341591186D97829BAF420326A6897A02C9C6A2FBF140B61CE134F2593C9DAA0AC2DB7753A8AA240380255F20EC542FE31BC94BE690C83A3860C570A38DB07063F4389A982E2EE3D6359AE347196266EBBAE2CCB4589A9420D611438CC5F980525A60ACF0C05D076BDAECD99260BBDCF340168C3A098693AB6E3A8A15D82B270AABDFC52C0D12D405E0A1095905D1FBE92A1C454A166069BC078F90A2FA568FB50E09E3153224D9CA5C992AED2A4A6DA987E4AD4A238EAE60DC5DD7B06B45C69E22C4DDC765D81962B4D6ABAAD31A0E5525D8BC13F782945DB8702F78C991269025B5A17C551376F28EEDE33A0E562F071BC94A2ED4359D2559AC096D64571D4CD1B8ADBAE2BD07231F8392FA568FB50D4C6F453224D604BEBA238EAE60DC56D8D012D976A0683D2A3860C2F5FE143F807FFE043F8590625A60A8ABBF70C68B9D2C4599AB8EDBA022D579AD4745B6340CBA5BA1625A60A358451E0307F611694BE690C83A3860C574A4C15F0293186E2B6C680964B759A38E75C9AB87BCF80968B02CEF681C13FB294982A3C331440DBF5BA36679A2CF43ED304A00D836221AC3BE2A9D8A06C07EAD83A990CAE03E1A09C40953CA7EC0244BC14202A21BB3E7C0547E9514386979FF3210645370BD47C88D2378D6170D490E14A89A9023E25C65028E06C1F187C2543D111BA072FA258C83F861253C562FBC0A0B8DB384E735162AAF0CC50006DD7EBDA9C69B2D0FB4C1380360C060503911F80308C000A06223F1EEA3D8C000A0622FFD5C6374100050391FF6AE39BB8DAF82608A04CD16B9B93008A35C14BB110B663A3C24BE9E2AB281044A9F82A0704512CB44B50E0307F61160C0A38BA05C84B89A962B17D6050284054028E1A32BC7C85AFF00FBEC2C7F1157ECE571894982AD4CC6013182F5FE1A5146D1F0ADC33664AA489B33459D2559AD4541BD34F895A1447DDBCA1B87BCF80962B4D9CA589DBAE2BD072A5494DB73506B45CAA6B31F8072FA568FB50E09E3153224D604BEBA238EAE60DC5DD7B06B45C0C3E8E9752B47D284BBA4A13D8D2BA288EBA794371DB75055A2E063FE7A5146D1F8ADA987E4AA4096C695D1447DDBCA1B8AD31A0E552CD60507AD490E1E52B7C08FFE01F7C083FCBC7F121FC839FF3150625A60A358451E0307F611694D507470D195EBEC287F8071FE2E3F8103FE743F8360625A60AF8941843715B6340CBA59A02442560BD68BB0C05B6DB75707A184A4C159E190A5ED34199A2D736270194982A1C0618144A4C151477EF19D072A589B33471DB75055AAE34A9E9B6C680964B752D8A7F9F01F21508A2F44D63181C356408A00051090A9ED9F53451C5D3A7D1A1D3E45E0A38DB0706FFC829405442767DF84ACEA0EC0244BC94297A6D73124001A212B2EBC3577014202A01470D195EBEC257F8075FE1E3F80A3FE72B0C4A8F1A32BC7C850FF10F3EC4C7F1217ECE871894982A16DB070685A29B056A3E44F1EF3340BE0241141DA17BF0228A85FC63284054828267763D4D54F1F46974E834B9971253057C4A8CA1B88BB68F8B02442560BD68BB0C05B6DB75707A180A38DB07065FC929AB0F8E1A32BC7C850FF10F3EC4C7F1217E4EBCCC9139B24A47B165A10E74740E02556C380625A60A8701068512538567860268BB5ED7E64C9385DE679A00B461502CE41FC34B99A2D73627570A1095905D1FBE725080A8041C356478F90A5FE11F7C858FE32BFC9CAF30283D6AC8F0F2153E847FF00F3E849FF3717C083FCBCFF90A83125305C5DD7BC6B25C69E22C4DDC765D59968B1253851AC2287098BF300B8A7F9F01F21508A2AC3E386AC8F0F2153EC43FF8101FC787F839F16C0A2EA37E74729BD2E9E4EA9D0C812AB69C4101A212143CB3EB69A28AA74FA343A7C9BD94982AE053620C8502442560BD68BB0C05B6DB75707A180A38DB0706DF4689A9C2618041A1C454B1D83E302894982A3C3314BCA683C1A06020F2AB4D1040591186E5BC145D7A101935B44B50164EB5975F8A8530E789973D20F58C92772005CA648F6C8740953C4BB1907F0C2FA56F1AC3E0A821C39502CEF681C1CF5062AAA0B87BCF58962B4D9CA589DBAE2BCB725162AA504318050EF317664189A9C2334301B45DAF6B73A6C942EF334D00DA3028669A8EED386A6897A02C9C6A2FBF1470740B909702442564D787AF64283155A899C126305EBEC24B29DA3E14B867CC9448136769B2A4AB34A9A936A69F12B5288EBA794371F79E012D579A384B13B75D57A0E54A939A6E6B0C68B954D762F00F5E4AD1F6A1C03D63A6449AC096D64571D4CD1B8ABBF70C68B9187C1C2FA568FB5096749526B0A575511C75F386E2B6EB0AB45C0C7ECE4B29DA3E14B531FD944813D8D2BA288EBA7943715B6340CBA59AC1A0F4A821C3CB57F810FEC13FF8107E964189A982E2EE3D035AAE347196266EBBAE40CB952635DDD618D072A9AE4589A9420D611438CC5F9805A56F1AC3E0A821C3951253057C4A8CA1B8AD31A0E5529D26CE399726EEDE33A0E5A280B37D60F08F2C25A60ACF0C05D076BDAECD99260BBDCF340168C3A05808EB8E782A3628DB8132365BC6963D0EF54E8740953CA7EC0244BC14202A21BB3E7C0547E9514386979FF3210645370BD47C88D2378D6170D490E14A89A9023E25C65028E06C1F187C2543D111BA072FA258C83F861253C562FBC0A0B8DB384E735162AAF0CC50006DD7EBDA9C69B2D0FB4C1380360C06C56ABA6B0C2FC54298F3C453C9E232990E941F102E9351700A8E4095DC46B1907F0C2F05884AC8AE0F5F39284054028E1A32BC7C85AFF00FBEC2C7F1157ECE571814202A016F1AC3E0A821C395D2A3860C2F5FE143F807FFE043F8391FC787F0B3FC9CAF30283155A8218C0287F90BB3A0AC3E386AC8F0F2153EC43FF8101FC787F839F16C7936DBC9E48A3A0E972B79AE10A862CB1994982AE053620C8502442560BD68BB0C05B6DB75707A184A4C159E190AA0ED7A5D9B334D167A9F6902D0863245AF6D4E02283155380C302894982A28C5B3AF6328BA59A0E62B14FF3E03E41F0744E99BC630386AC8104001A212143CB3EB69A28AA74FA343A7C9BD1470B60F0C7E861253C562FBC0A0302846EFF36AE39B70EA51915D1FFE915374E94164D4D02E4181C3FC8559502C84EDD8A8F052BAF82A0704512A3E44B1D02E4181C3FC85593028E0E816202F05884AC8AE0F5FC95080A8041C356478F90A5FE11F7C858FE32BFC9CAF30283155A899C126305EBEC24B29DA3E14B867CC9448136769B2A4AB34A9A936A69F12B5288EBA794371F79E012D579A384B13B75D57A0E54A939A6E6B0C68B954D762F00F5E4AD1F6A1C03D63A6449AC096D64571D4CD1B8ABBF70C68B9187C1C2FA568FB5096749526B0A575511C75F386E2B6EB0AB45C0C7ECE4B29DA3E14B531FD944813D8D2BA288EBA7943715B6340CBA59AC1A0F4A821C3CB5788D739205B2703417916C275B2D90E812A361BFF205EE7806C9D0C04E55908D7C966B304AAD8707C1CF13A0764EB642028CF42B84E36DB2150C566E3E77C854189A9C229C6AE506449558BBB5C8D1253851AC2287098BF300BCAEA83A3860C2F5FE143FC830FF1717C889F132F8B83703625A3401D759C92C9B304AAD8720625A60AA718FB4179D887A1C454019F1263286E6B0C68B954A78973CEA589BBF70C68B928405402D68BB6CB5060BB5D07A787A1C454E11463C7511EF66128315578662880B6EB756DCE3459E87DA609401BCA14BDB63909A0C454E130C0A05062AAA0B87BCF80962B4D9CA589DBAE2BD072A5494DB73506B45CAA6B5174B340CD5728FE7D06C83F0E88D2378D6170D4902180024425287866D7D344154F9F46874E937B29E06C1F18FC234B89A962B17D605028405402DE3486C15143862B8362A6E9D88EA38676090A1CE62FCC826221AC3BE2A9647010A48EB3D90EF58C3A4EC9E604AAE439C5E87D5E6D7C134E3D2AB0402036E13C1FA2EC0244BC14202A21BB3E7C054701A21270D490E1E52B7C857FF0153E8EAFF073BEC2A000510978D31806470D1902283D6AC8F0F2153EC43FF8101FC787F8391F6250561F1C356478F90A1FE21F7C888FE343FC9C7819DCA1E4191CEEB065B379AE640854B1E11894982AE053620CC5DD7BC6B25CAA29405402D68BB6CB5060BB5D07A787A1C454E199A100DAAED7B539D364A1F79926006D2853F4DAE62480125385C30083E22EDA3E2E4A4C1594A2EDA36AB7719C46D1CD02351FA2F8F71920FF38208A8ED03D7811C542FE3114202A41C133BB9E26AA78FA343A749ADC4B0167FBC0E02B194A4C158BED0383E26EE338CD45E99BC630386AC8706550ECC851AF6DB83228E0E816202F658A5EDB9C04507AD490E1E52BC4EB1C90AD9381A03C0BE13AD96C9640151B8E7F10AF83CB3B50AE9EE3D433EA50C77610A862B3F171C4CB74B24A565DC976705047FD50CF10A862C33128FE7D06C8B7410C8A85B01D1B155E4AC557B165730625B4F14D8436BE095E8A2E3D888C1ADA25287098BF300B8A85B01D1B155E4A175FE58028151FA2586897A05C583506C54298F3C453B16571990EA428509E81700ACE46A04A6EA35808EB8E78D96C0752EF64D5D5B3074EFDC0E10854C9738A99A6633B8E1ADA25287098BF300B0A38BA05C84B01A212B2EBC357720A109580A3860C2F5FE12BFC83AFF0717C859FF3150625A60A3533D804C6CB57782945DB8702F78C991269E22C4D9674952635D5C6F453A216C551376F28EEDE33A0E54A136769E2B6EB0AB45C6952D36D8D012D97EA5A0CFEC14B29DA3E14B867CC944813D8D2BA288EBA794371F79E012D17838FE3A5146D1FCA92AED204B6B42E8AA36EDE50DC765D81968BC1CF792945DB87A236A69F1269025B5A17C551376F286E6B0C68B9543318941E356478F90A1FC23FF8071FC2CFF2717C08FFE0E77C854189A9420D611438CC5F980565F5C151438697AFF021FEC187F8383EC4CFF910BE8D4189A9023E25C650DCD618D072A9A6005109582FDA2E4381ED761D9C1E86125385678682D77450A6E8B5CD490025A60A87010685125305C5DD7B06B45C69E22C4DDC765D81962B4D6ABAAD31A0E5525D8BE2DF67807C0582287DD31806470D19AE14202A41C133BB9E26AA78FA343A749ADC4B0167FBC0E01F3925A68AC5F6814161502CE41FC34B99A2D73627574A4C158BED03834201A21270D490E1E52B7C857FF0153E8EAFF073BEC2A0F4A821C3CB57F810FEC13FF8107ECEC7F121FC2C3FE72B0C4A4C151477EF19CB72A589B33471DB7565592E4A4C156A08A3C061FEC22C28FE7D06C8572088B2FAE0A821C3CB57F810FFE0437C1C1FE2E7C4B3E5D96C27932BEA385CAEE4B942A08A2D675080A80405CFEC7A9AA8E2E9D3E8D069722F25A60AF894184371F79EB12C579A384B13B75D5796E5A2005109582FDA2E4381ED761D9C1E8602CEF681C1B75180A884ECFAF09583125385C300834289A9C23343C16B3A18945D8088973245AF6D4E0228405442767DF80A8E024425E0A821C3CB57F80AFFE02B7C1C5FE1E77C8541E951438697AFF021FC2CFFE043F8593E8E0FE11FFC9C0F3128AB0F8E1A32BC7C850FF10F3EC4C7F1217E4EBC4CAEDEC16595FCC81EB843513F0854B1E11814DD2C50F3218A7F9F01F21508A2E808DD8317512CE41F4301A212143CB3EB69A28AA74FA343A7C9BD94982AE053620CC55DB47D5C14202A01EB45DB6528B0DDAE83D3C350C0D93E30F84A4E89A962B17D6050283155380C302894982A3C3314BCA683C1A0AC08C370BC145D7A101935B44B50164EB5975F8A8530E789D7C165B31D481D52946CAE7E28590255F20CC542FE31BC94BE690C83A3860C570A38DB07063F4389A982E2EE3D6359AE347196266EBBAE2CCB4589A9420D611438CC5F980525A60ACF0C05D076BDAECD99260BBDCF340168C3A098693AB6E3A8A15D82B270AABDFC52C0D12D405E0A1095905D1FBE92A1C454A166069BC078F90A2FA568FB50E09E3153224D9CA5C992AED2A4A6DA987E4AD4A238EAE60DC5DD7B06B45C69E22C4DDC765D81962B4D6ABAAD31A0E5525D8BC13F782945DB8702F78C991269025B5A17C551376F28EEDE33A0E562F071BC94A2ED4359D2559AC096D64571D4CD1B8ADBAE2BD07231F8392FA568FB50D4C6F453224D604BEBA238EAE60DC56D8D012D976A0683D2A3860C2F5FE143F807FFE043F8590625A60A8ABBF70C68B9D2C4599AB8EDBA022D579AD4745B6340CBA5BA1625A60A358451E0307F611694BE690C83A3860C574A4C15F0293186E2B6C680964B759A38E75C9AB87BCF80968B02CEF681C13FB294982A3C331440DBF5BA36679A2CF43ED304A00D836221AC3BE2A9D8A06C07CA666C10AE93CDDAF29C40953CA7EC0244BC14202A21BB3E7C0547E9514386979FF3210645370BD47C88D2378D6170D490E14A89A9023E25C65028E06C1F187C2543D111BA072FA258C83F861253C562FBC0A0B8DB384E735162AAF0CC50006DD7EBDA9C69B2D0FB4C1380360C0605887A0FE3A5E8D283C8A8A15D820287F90BB3A05808DBB151E1A574F1551408A2547C8862A15D820287F90BB360502C84394F3C958E92818E1C6753B71D7927A3E404AAE4198A85FC63782953F4DAE6E44A89A962B17D6050284054028E1A32BC7C85AFF00FBEC2C7F1157ECE571894BE690C83A3860C574A8F1A32BC7C850FE11FFC830FE1E77C1C1FC2CFF273BEC2A0C4544171F79EB12C579A384B13B75D5796E5A2C454A186300A1CE62FCC82E2DF67807C058228AB0F8E1A32BC7C850FF10F3EC4C7F1217E4E3C5B9ECD7632B9A28EC3E54A9E2B04AAD8720605884A50F0CCAEA7892A9E3E8D0E9D26F75262AA804F89311477EF19CB72A589B33471DB7565592E0A109580F5A2ED3214D86ED7C1E96128E06C1F187C1B05884AC8AE0F5F39283155380C302894982A3C3314BCA68341B110D61DF13AEAB68CBAAD83CB731CA440B60C812A794E31D3746CC75143BB04050EF31766410147B700792953F4DAE624801253C562FBC0A05080A8041C356478F90A5FE11F7C858FE32BFC9CAF30283155A899C126305EBEC24B29DA3E14B867CC9448136769B2A4AB34A9A936A69F12B5288EBA794371F79E012D579A384B13B75D57A0E54A939A6E6B0C68B954D762F00F5E4AD1F6A1C03D63A6449AC096D64571D4CD1B8ABBF70C68B9187C1C2FA568FB5096749526B0A575511C75F386E2B6EB0AB45C0C7ECE4B29DA3E14B531FD944813D8D2BA288EBA7943715B6340CBA59AC1A0F4A821C3CB57F810FEC13FF8107E968FE343F8073FE72B0C4A4C151477EF19D072A589B33471DB75055AAE34A9E9B6C680964B752D4A4C156A08A3C061FEC22C28FE7D06C8572088B2FAE0A821C3CB57F810FFE0437C1C1FE2E77C08DFC6A00051090A9ED9F53451C5D3A7D1A1D3E45E4A4C15F0293186E2B6C680964B3505884AC07AD176190A6CB7EBE0F4301470B60F0CFE915362AA7018605028405442767DF84A4E89A9C23343C16B3A18945D8088973245AF6D4E0228405442767DF80A8E024425E0A821C3CB57F80AFFE02B7C1C5FE1E77C8541E951438697AFF021FC2CFFE043F8593E8E0FE11FFC9C0F312831552CB60F0C0A45370BD47C88E2DF67807C0582283A42F7E045140BF9C75080A80405CFEC7A9AA8E2E9D3E8D069722F25A60AF894184371176D1F1705884AC07AD176190A6CB7EBE0F4301470B60F0CBE925362AA7018605028AB0F8E1A32BC7C850FF10F3EC4C7F1217E4EBC4C46C933995C8120259B43999C40151B8E4189A9C23343C16B3A180CCA8A308C976221CC79E2E5EA369BA2D8A01C97C9E638DB41A04A9E532CE41FC34B99A2D736270114202A21BB3E7CE5A0005109386AC8F0F215BEC23FF80A1FC757F8395F61507AD490E1E52B7C08FFE01F7C083FE7E3F8107E969FF3150665F5C151438697AFF021FEC187F8383EC4CF899751D48F3CCF6421DCD151CF767004AAD87206C5BFCF00F9C701517484EEC18B28E0E8162005884A50F0CCAEA7892A9E3E8D0E9D26F75262AA804F8931140A109580F5A2ED3214D86ED7C1E96128E06C1F18FC0C25A60A870106851253C562FBC0A05062AAF0CC50006DD7EBDA9C69B2D0FB4C1380360C8AD1FBBCDAF8269C7A5464D7878F3B28669A8EED386A6897A02C9C6A2FBF945D80889702442564D787AFE0284054028E1A32BC7C85AFF00FBEC2C7F1157ECE5718941E356478F90A1FC2CFF20F3E849FE5E3F810FEC1CFF91083B2FAE0A821C3CB57F810FFE0437C1C1FE2E7C4CB74D4215BB603E1725C0782F22C812A361C831253057C4A8CA15080A804AC176D97A1C076BB0E4E0F4389A9C2334301B45DAF6B73A6C942EF334D00DA50A6E8B5CD490025A60A870106C55DB47D5C14DD2C50F3218A7F9F01F28F03A2F44D63181C3564B85280A80405CFEC7A9AA8E2E9D3E8D069722F059CED0383AF642831552CB60F0C8ABB8DE334174547E81EBC886221FF180645971E44460DED12948553EDE5978259BADFC5C7CF421470740B90973245AF6D4E0228405442767DF84A86024425E0A821C3CB57F80AFFE02B7C1C5FE1E77C8541597D70D490E1E52B7C887FF0213E8E0FF1733E846F63507AD490E1E52B7C08FFE01F7C083FCBC7F121FC839FF3150625A60A8ABBF70C68B9D2C4599AB8EDBA022D579AD4745B6340CBA5BA1625A60A87010685E2DF6780FCE380287DD31806470D19AE14202A41C133BB9E26AA78FA343A749ADC4B89A9023E25C650DCD618D072A94E13E79C4B1377EF19D0725180A804AC176D97A1C076BB0E4E0F430167FBC0E01F594A4C158BED038342011116BBEDE882A3860C0194982A3C331440DBF5BA36679A2CF43ED304A00D836221AC3BE2A9D88E3C8BB3E579E7C864D533191B812A794E317A9F571BDF84538F0A2C10884D74C7872846EFF36AE39B70EA51810502B109E7F91065D5D8A8216CC7468597D2C55739208852F1551408A2586897A05C58B58553EDE59741B110B663A3C24BE9225EC786B31DEA8ABA0DCAA8E73875750255721BA5E2AB28368862A15D82B270AABDFC32180C0A401B5ECA6A508D31182FE5C702BB39A5091CA176227F4993255DB46F0C2F050391DF41AFD3B8523010F99D7A5408A06020F2C3113227C695A2DBF6150A1CE62FCC828281C87FA70A0228C89C63F80A4459B5A13C2AC3A02CD3E51C83E1196D1F8C978281C8EFA0D7695C291888FC4E3D2A04503010F9E1089913E34AD16DFB0A050EF3176641C140E4BF5305011464CE317C05A2ACDA501E956150009E4F745F83978281C80F47C89C18578A6EDB57280E307897E261B36CFA6DD78D2B050391DF41AFD308A06020F23BF5A81040F1B011109970D0EB34AE1447D43CFB488CC587F0211B0599730C5F81281888FC77AA2080B26A437954864159DA67D93E30967946F3523010F9E1089913E34AD16DFB0A050EF3176641F1B05936FDB6EBC6958281C8EFA0D76904503010F99D7A5408A078D808884C38E8751A578A236A9E7D24C6E243F8908D82CC3986AF40140C44FE3B55104059B5A12CE95D00DA30284BFB2CDB0786746131765E0A06223F1C2173625C29BA6D5FA138C0E05D8A87CDB2E9B75D37AE140C447E07BD4E23808281C8EFD4A34200C5C3464064C241AFD3B8521C51F3EC2331161FC2876C1464CE317C05A26020F2DFA98200CAAA0D6549EF02D0864159DA67D93E302EAA3185978281C80F47C89C18578A6EDB57287098BF300B8A87CDB2E9B75D37AE140C447E07BD4E23808281C8EFD4A34200C5C3464064C241AFD3B8521C51F3EC2331161FC2876C1464CE317C05A26020F2DFA98200CAAA0DE551190665699F65FBC0E87ED43CFBF0523010F9E1089913E34AD16DFB0A65E1547BF9A578D82C9B7EDB75E34AC140E477D0EB34AE140C447EA71E1502281E360222130E7A9DC695E2889A671F89B1F8103E64A320738EE12B10050391FF4E150450566D284B7A1780360CCAD23ECBF681511BB593978281C80F47C89C18578A6EDB57280E307897E261B36CFA6DD78D2B050391DF41AFD308A06020F23BF5A81040F1B011109970D0EB34AE1447D43CFB488CC587F0211B0599730CFF80281888FC77AA2080B26A4359D2BB00B4615096F659B60F0C80F661BC140C447E3842E6C4B85274DBBE427180C1BB140F9B65D36FBB6E5C291888FC0E7A9D4600050391DFA94785008A878D80C884835EA771A538A2E6D947622C3E840FD928C89C63F80A44C140E4BF53050194551BCAA3320CCA45F68BEC2A6A1A8BE1A56020F23BE8751A570A0622BF538F0A01140C447E3842E6C4B85274DBBE4281C3FC8559503010F9EF5441000599730C5F8128AB369447651894A57D96ED03C301F53A362ABC140C447E3842E6C408A0E8B67D85B270AABDFC523C6C0444261CF43A8D2BC5C366D9F4DBAE1B570A0622BF835EA771A56020F23BF5A81040E91132E7B2E9B75D378C0F511C51F3EC2331161FC2876C1464CE31FC03A26020F2DFA98200CAAA0D6549EF02D0864159DA67D93E30E00DF53578291888FC7084CC8971A5E8B67D850287F90BB3A078D82C9B7EDB75E34AC140E477D0EB34AE140C447EA71E1502281E360222130E7A9DC695E2889A671F89B1F8103E64A320738EE11F10050391FF4E150450566D284B7A1780360CCA3264DF0561BC140C447E07BD4EE34AC140E477EA5121808281C80F47C89C18578A6EDB57287098BF300B0A0622FF9D2A08A020738EE12B1065D586F2A80C83B2B4CFB27D60D4F6763B79291888FC7084CC8971A5E8B67D85B270AABDFC523C6C964DBFEDBA71A56020F23BE8751A01140C447EA71E1502281E360222130E7A9DC695E2889A671F89B1F8103E64A320738EE1E710050391FF4E150450566D284B7A1780360CCAD23ECBF681B16C0381BC140C447E3842E6C4B85274DBBE425938D55E7E291E36CBA6DF76DDB8523010F91DF43A8D2B050391DFA94785008A878D80C884835EA771A538A2E6D947622C3E840FD928C89C63F838888281C87FA70A0228AB369425BD0B401B0665699F65FBC0C0337BCA89F1523010F9E1089913E34AD16DFB0A65E1547BF9A578D82C9B7EDB75E34AC140E477D0EB3402281888FC4E3D2A04503C6C0444261CF43A8D2BC51135CF3E1263F1217CC84641E61CC3CF210A0622FF9D2A08A0ACDA5096F42E006D1894A57D96ED03C3C9C1B1F1523010F9E1089913E34AD16DFB0AC50106EF523C6C964DBFEDBA71A56020F23BE8751A01140C447EA71E1502281E360222130E7A9DC695E2889A671F89B1F8103E64A320738EE12B10050391FF4E150450566D288FCA30284B1A5375BCE1A56020F23BE8751A570A0622BF538F0A01140C447E3842E6C4B85274DBBE4281C3FC8559503010F9EF5441000599730C5F8128AB36944765180C0A109580A3860C2FC5F0158A8FAF5056BEC2A034D4D79893000A66E97E171F5FB1519AC6A2FB51F3ECC3576C94551BA9B10B65699F65FBC0A00051098AAACCD62D4D5E1B83FC140F1B095D4E6DCEBBED430025508D29CB3716C874F1F2155E8A65763F7C1C9477A00E04411025B67DF84AA7031D195CA7A3CEE01FBC14CBEC7EF83828A328EA10044194D8F6E12B9D0E7464A06CB6C3E0E3782996D9FDF07190EDC86621088228B1EDC3573A1DE8B075A06C96C1CF792996D9FDF071109467B210044194D8F6E12B9D0E74D86C472767F06DBC14CBEC7EF838C806650E0882204A6CFBF0954E0752B2877AAE3018141F6AE7321D9A970230DB8E052ADDA3EAA6894A9A5CD0E8D67829DA8EBC12FC2CA4AE646CEA0AA56F1AC328DD4B550B075878F73128AAF20C32FAD4FEEEE9DE69A292261734BA355E8AB623AF041FA70E6570B9EDC0E1287DD3184651539583AA96393D83D2FD537CA34BDF3DAA469AA8A4496DB3EBF5D69526CB776B182FA56F1AC328CB6096607F79B7BF300B8AB623AF04DF66B375D40F75A593CD3028AAB24FDB3A4D54D2A4B6D9F57AEB4A93E5BB358C97D2378D619425D8EF3E8AB623AF041F673B8EEC91E33A1D0645CD339667749AA8A4496DB3EBF5D69526CB776B182FA56F1AC328CB16DD9C9651B41D7925F80A84537208B26572060556D7988281DDA36A4E3BD344254D6A9B5DAFB7AE3459BE5BC37829DA8EBC127C25ABD8D4B3995CA1F44D6318454D550EAA5AE6F40C0665D506E3A52CE95D00DAF052A6E8B5CD4900C542BB04E5C2AA51B05EB7E12B14202A41C133BB9E26AA78FA343A749ADC4BD1CD02351FC2CF50FCFB0C909F81200AD06BAD7BED33400228151FA2F4A821C34B317C085FA1F8F810BE4259F910BEC2A0603576A12CEDB36C1F181470B60F0CFE91532C7D9EBBF8F80A44E9E24394982A3C331440DBF5BA36278341F1B081378D6170D490218002442564D787AFE0180C0609",
    ["1080p"] = "MUIV2:034E0D4B002592D42849D12949C92D92D80555FDA2A20C03394662990ACFA0324D54D728659B28BE49C538513A47521D2449B210E021A8262A512E82622354F92829355289EA241559499294BC944A556652C14D25B253D54F501A4A528E9224962AE1293155A5AB52295BA552555FA5522563A552394B45D55A92A4EA2D95BA4B257BD15F92A4D4601187492D56D263A99AACA2CB8ACD803E5395D140A7957A2D29CC96729B52ED96F80D194EC97192A46239C57328D385EB54D94E85BE5355E325392F95AC9754F3A9A8EC17E9564952746C2A55EAE154AA7855921456952495A6C24BB1EB5D782976747A6D305E8A5D5B1801946E4E002F02158C008AEE63A3B26A8371A5847F740D8C000A36E15904507A84DA89FC05E34AC16AEC821140F1CA0EA0D1F6C108A0ACDA10C0A00438F6E1A5AC3E386AC8F0F2153E84AFF00F3E84AFF0717C085FE1E77C083FCBA00051090A9ED9F53451C5D3A7D1A1D3E45E0A1095905D1FBE72505664CE3170D490E1E52B7C887FF0213E8E0FF173BEC260302845DB07B3743F182FE5FA47D7C07829E03EA7B6E9B24054300228588D6DC1BDC0FA298371A5682FD0622CBD0D0114ED055A8CA5B7A9EDED7672A56CBB854CC03A8EF19B1D0353F4DAE62480A2BD40D29B99828128B852B41768D9B489218062C671745BD2160114ED05722AD898E8BEE92280A2BD4032ADA95A5EA9410005DCE700B40FA00D0114A0C6C201A12080419109CFE2A5801A8323BBD526E69409CF22804159D216C64BC140E457F5A80C570A0622FF35BAAFB18B8F00CAEA45A002D0C679E2A9E41905CA28EA792757CF646D9D0C812A794E41402036D11D5FE95080A804AC176D97A1C076BB0E4E0F43E91BEA6BF052BAF82A07A5E243140BED121400ECBDB04B941E356478F90A5FE11F7C858FE32BFC9CAF3018146CD7877F1C10C5AE77830502B109E7F92A0AC5AE77830502B189EEF82A0A457B81543D42760228AB17810A401B8017810AA6366681FC7C05A2AC5E042A006D54557A1019CA85555B38D55E7E2916C2766C5478295DC453C9A82BD98C0265B347C696C541380255F22CA5229E4A06826C998CBA7AAE9ECDD8D4B339812AB6834141402036E13CDF46C1406D0D4554E9A6AA050C0503917FD9060277EFB5E8E24A01A212B2EBC3570ECAEA45A002D0068E1A32BC14CD5728860FE1DB283E3E846FA3AC7C08DFC6A0AC5E042A006DE0A8356D6173CAAE0FFF80283D42E6C478295D7CE5A0547C8862A15D820280BD177689D2A3860C2F5FE12BFC83AFF0717C859FF31506838281C80FD76DCAA90D570A0622BF2ADE78430065F5225001682396EE77F1F121CAEA45A002D0A61B36F0A6310C8E1A3204503010F9E1089913E34A393710B87BAF45172C10884D74C757C9D828E7060277EFB5E8820502B109E7F92A364A1D95E1A574F16D948A0F512CB44B502EAC1AA5470D195EBEC257F8071FC2CFF2717C889FF3150683B27A11A800B481297A6D731240C140E45FDA18B651C1B8523010F997F46E0450562F02158036002F0215D9F5E1E30E0A06223FBCA1BE0657CAEA45A002D0A6B641FE00976D337D6C54286D804159BD085400DA38F5A848AFDBF0150A1095A0E0995D4F13553C7D1A1D3A4DEEA5AC5E042A006DBAE3AB28F8B65C5132EA991C974387C2A0488D5D7829588D5D00DA871140C16AECA2AA3E362A006D300228AB17810A0099730C1C356478F90A1FE21F7C888FE343FC9CAF3028588D5D006DD7EBDA9C7846DB07238082D5D8A55BD98167B47D30AE94D58B4005A0FB1A3E83BC72C251438697AFF0217C857FF0217C858FE343F80A3FE743F8590605ABB10B1CD48167B47D30AE14ACC62ECB7468804135C600B4C108A060357659DA65DBB5450005ABB14B37278017810A460005ABB1CB45A8C5B6300228BE8656DDA4C62E94A57D96ED038341E9E604F02250C1782953F4DAE6248002442564D7877F4014ACD76DF8107E86D2CD09E045A082F152A6DAC14B99A2D73627011464CE31FC834141566C54305ECA14BDB63909A020738EE1E318147D9EA860BC94297A6D73124041E61CC3CF19143B721C5ECA14BDB63909A020738EE1DB1814330DE993973245AF6D4E0228C89C63F80A834101A212143CB3EB69A28AA74FA343A7C9BD140B613B362ABC942EE2E5D96C47C9646C0ACED6E9A867730255F20CA5229E4AE7C8B3EA1928C7A977145C475D21502557A7586897A00060EF855D5A38D55E7E199486FA1A7372A5ACBAAFE133C82B271C356478F90AF13AB8BC03E5EA394E3DA30E756C3602556C19FE41BC0E2EEF40B97A8E53CFA8431D9B8D40155B868F235E079777A05C3DC7A967D4A18ECD46A08A2DC3CF8997B5656C4AA6A31C9943C974201B812AB69C41C12CDDEFE2E31F0C4AB7B203CF68FB60BC94156198C24BD1A507915143BB0465E1547BF9A55808739E78B94DB1E114759BA28EEBA8E7B60E812A794EB1907F0C2FA56F1AC3E0A821C39502CEF681C1CF5062AAA0B87BCF58962B4D9CA589DBAE2BCB725162AA504318050EF317664189A9C2334301B45DAF6B73A6C942EF334D00DA3028669A8EED386A6897A02C9C6A2FBF1470740B909702442564D787AF64283155A899C126305EBEC24B29DA3E14B867CC9448136769B2A4AB34A9A936A69F12B5288EBA794371F79E012D579A384B13B75D57A0E54A939A6E6B0C68B954D762F00F5E4AD1F6A1C03D63A6449AC096D64571D4CD1B8ABBF70C68B9187C1C2FA568FB5096749526B0A575511C75F386E2B6EB0AB45C0C7ECE4B29DA3E14B531FD944813D8D2BA288EBA7943715B6340CBA59AC1A0F4A821C3CB57F810FEC13FF8107E964189A982E2EE3D035AAE347196266EBBAE40CB952635DDD618D072A9AE4589A9420D611438CC5F9805A56F1AC3E0A821C3951253057C4A8CA1B8AD31A0E5529D26CE399726EEDE33A0E5A280B37D60F08F2C25A60ACF0C05D076BDAECD99260BBDCF340168C3A05808EB8E782A3645C9E4903A4E513F329092810854C973CA2E40C44B01A212B2EBC35770941E356478F9391F625074B340CD87287DD31806470D19AE94982AE053620C8502CEF681C15732141DA17BF0228A85FC632831552CB60F0C8ABB8DE3341725A60ACF0C05D076BDAECD99260BBDCF340168C360503010F9D59AEE1A43002550A8216CC7468597D2C557C974724AC5B7656D0C4A68E39B5043D88E8D0A2FA58BAFD251EF502ABE92773A0C0A66E97E171F1FA28436BE095E8A2E3D888C1ADA25287098BF300B8A85B01D1B155E4A171FA2547CDC01512CB44B502EAC9A030CDE65507601225E0A1095905D1FBE82A3005109386AC8F0F215BEC23FF80A1FC757F8395F61507AD490E1E52B7C083FCB3FF8107E968FE343F8073FE7430CCAEA83A3860C2F5FE143FC830FF1717C889F132FA3E4365B0EE1D4958C7A36C71D04AAD8700C4A4C15F02931864201A212B05EB45D8602DBED3A383D0C25A60ACF0C05D076BDAECD99260BBDCF3401684399A2D736270194982A1C06181477D1F6715174B340CD8728FE7D06C83F0E88D2378D6170D490E14A01A212143CB3EB69A28AA74FA343A7C9BD1470B60F0CBE92A1C454B1D83E3028EE368ED35C141DA17BF0228A85FC6318140BF9C7F052A6E8B5CD490025A68AC5F68141A1005109386AC8F0F215BEC23FF80A1FC757F8395F615080A884ECFAF09583D2A3860C2F5FE143F807FFE043F8391FC787F0B3FC9CAF3028315550DCBD672CCB9526CED2C46DD79565B9283155A8218C0287F90BB3A0F8F71920FF3820CAEA83A3860C2F5FE143FC830FF1717C889F132FA3A81F799EC942B8A3A39EEDE00854B1E50C0A1095A0E0995D4F13553C7D1A1D3A4DEEA5C454019F12632814202A01EB45DB6528B0DDAE83D3C350C0D93E30F8194ADF3486C15143862B25A60A8701068512538567860268BB5ED7E64C9385DE679A00B46150CC341DDB71D4D02E4181C3FC8559502C847547BCCC91CD1C1D9BA26ECBA8AB1F1044A04A9E53C0D12D405E0A1095905D1FBE92A1005109386AC8F0F215BEC23FF80A1FC757F8395F615062AA5033834D60BC7C859752B47D2870CF98299126CED26449576952536D4C3F256A511C75F386E2EE3D035AAE347196266EBBAE40CB952635DDD618D072A9AEC5E01FBC94A2ED43817BC64C8934812DAD8BE2A89B371477EF19D07231F8385E4AD1F6A12CE92A4D604BEBA238EAE60DC56DD71568B918FC9C9752B47D286A63FA299126B0A575511C75F386E2B6C680964B358341E951438697AFF021FC837FF021FC2C1FC787F00F7ECE571894982AD4104681C3FC855950561F1C356478F90A1FE21F7C888FE343FC9C0FE1DB1894982AE053620CC56D8D012D97EA3471CEB93471F79E012D1705884AC07AD176190A6CB7EBE0F43094982A3C331440DBF5BA36679A2CF43ED304A00D658A5EDB9C045062AA7018605028315550DCBD6740CB9526CED2C46DD71568B9D2A4A6DB1A035A2ED5B528FE7D06C83F0E88D2378D6170D490E14A01A212143CB3EB69A28AA74FA343A7C9BD1470B60F0CFE91A5C454B1D83E30280C8A8530E789A792CD955C1D071D394E3DCFF33C4BA04A6E6350568461072F45971E44460DED12948553EDE5976221CC79E26570EA4A56E9D83AB92DEFE4B60C812AB98D6221FF185E4ADF3486C15143862B059CED03839FA1C4544171F79EB12C579A384B13B75D5796E5A2C454A186300A1CE62FCC8212538567860268BB5ED7E64C9385DE679A00B46150CC341DDB71D4D02E415938D55E7E29E0E816202F05884AC8AE0F5FC95062AA5033834D60BC7C859752B47D2870CF98299126CED26449576952536D4C3F256A511C75F386E2EE3D035AAE347196266EBBAE40CB952635DDD618D072A9AEC5E01FBC94A2ED43817BC64C8934812DAD8BE2A89B371477EF19D07231F8385E4AD1F6A12CE92A4D604BEBA238EAE60DC56DD71568B918FC9C9752B47D286A63FA299126B0A575511C75F386E2B6C680964B358341E951438697AFF021FC837FF021FC2C83125305C5DD7B06B45C69E22C4DDC765D81962B4D6ABAAD31A0E5525D8B1253851AC2287098BF300B4ADF3486C15143862B25A60AF8941843715B6340CBA53A4D9C732E4DDCBD6740CB450167FBC0E01F594A4C159E190AA0ED7A5D9B334D167A9F6902D08641B110D61DF1546C0AA474725C46C9D86C1DC8D6215025CF29BB00112F05884AC8AE0F5FC1517AD490E1E5E77C8841D1CD02351FA2F44D63181C3564B85262AA804F8931140A38DB07065FC9507484EEC18B2816F28FA1C454B1D83E3028EE368ED35C94982A3C331440DBF5BA36679A2CF43ED304A00D8341591186D97829BAF420326A6897A02C9C6A2FBF140B61CE134F2593C9DAA0AC2DB7753A8AA240380255F20EC542FE31BC94BE690C83A3860C570A38DB07063F4389A982E2EE3D6359AE347196266EBBAE2CCB4589A9420D611438CC5F980525A60ACF0C05D076BDAECD99260BBDCF340168C3A098693AB6E3A8A15D82B270AABDFC52C0D12D405E0A1095905D1FBE92A1C454A166069BC078F90A2FA568FB50E09E3153224D9CA5C992AED2A4A6DA987E4AD4A238EAE60DC5DD7B06B45C69E22C4DDC765D81962B4D6ABAAD31A0E5525D8BC13F782945DB8702F78C991269025B5A17C551376F28EEDE33A0E562F071BC94A2ED4359D2559AC096D64571D4CD1B8ADBAE2BD07231F8392FA568FB50D4C6F453224D604BEBA238EAE60DC56D8D012D976A0683D2A3860C2F5FE143F807FFE043F8590625A60A8ABBF70C68B9D2C4599AB8EDBA022D579AD4745B6340CBA5BA1625A60A358451E0307F611694BE690C83A3860C574A4C15F0293186E2B6C680964B759A38E75C9AB87BCF80968B02CEF681C13FB294982A3C331440DBF5BA36679A2CF43ED304A00D836221AC3BE2A9D8A06C07EAD83A990CAE03E1A09C40953CA7EC0244BC14202A21BB3E7C0547E9514386979FF3210645370BD47C88D2378D6170D490E14A89A9023E25C65028E06C1F187C2543D111BA072FA258C83F861253C562FBC0A0B8DB384E735162AAF0CC50006DD7EBDA9C69B2D0FB4C1380360C060503911F80308C000A06223F1EEA3D8C000A0622FFD5C6374100050391FF6AE39BB8DAF82608A04CD16B9B93008A35C14BB110B663A3C24BE9E2AB281044A9F82A0704512CB44B50E0307F61160C0A38BA05C84B89A962B17D6050284054028E1A32BC7C85AFF00FBEC2C7F1157ECE571894982AD4CC6013182F5FE1A5146D1F0ADC33664AA489B33459D2559AD4541BD34F895A1447DDBCA1B87BCF80962B4D9CA589DBAE2BD072A5494DB73506B45CAA6B31F8072FA568FB50E09E3153224D604BEBA238EAE60DC5DD7B06B45C0C3E8E9752B47D284BBA4A13D8D2BA288EBA794371DB75055A2E063FE7A5146D1F8ADA987E4AA4096C695D1447DDBCA1B8AD31A0E552CD60507AD490E1E52B7C08FFE01F7C083FCBC7F121FC839FF3150625A60A358451E0307F611694D507470D195EBEC287F8071FE2E3F8103FE743F8360625A60AF8941843715B6340CBA59A02442560BD68BB0C05B6DB75707A184A4C159E190A5ED34199A2D736270194982A1C0618144A4C151477EF19D072A589B33471DB75055AAE34A9E9B6C680964B752D8A7F9F01F21508A2F44D63181C356408A00051090A9ED9F53451C5D3A7D1A1D3E45E0A38DB0706FFC829405442767DF84ACEA0EC0244BC94297A6D73124001A212B2EBC3577014202A01470D195EBEC257F8075FE1E3F80A3FE72B0C4A8F1A32BC7C850FF10F3EC4C7F1217ECE871894982A16DB070685A29B056A3E44F1EF3340BE0241141DA17BF0228A85FC63284054828267763D4D54F1F46974E834B9971253057C4A8CA1B88BB68F8B02442560BD68BB0C05B6DB75707A180A38DB07065FC929AB0F8E1A32BC7C850FF10F3EC4C7F1217E4EBCCC9139B24A47B165A10E74740E02556C380625A60A8701068512538567860268BB5ED7E64C9385DE679A00B461502CE41FC34B99A2D73627570A1095905D1FBE725080A8041C356478F90A5FE11F7C858FE32BFC9CAF30283D6AC8F0F2153E847FF00F3E849FF3717C083FCBCFF90A83125305C5DD7BC6B25C69E22C4DDC765D59968B1253851AC2287098BF300B8A7F9F01F21508A2AC3E386AC8F0F2153EC43FF8101FC787F839F16C0A2EA37E74729BD2E9E4EA9D0C812AB69C4101A212143CB3EB69A28AA74FA343A7C9BD94982AE053620C8502442560BD68BB0C05B6DB75707A180A38DB0706DF4689A9C2618041A1C454B1D83E302894982A3C3314BCA683C1A06020F2AB4D1040591186E5BC145D7A101935B44B50164EB5975F8A8530E789973D20F58C92772005CA648F6C8740953C4BB1907F0C2FA56F1AC3E0A821C39502CEF681C1CF5062AAA0B87BCF58962B4D9CA589DBAE2BCB725162AA504318050EF317664189A9C2334301B45DAF6B73A6C942EF334D00DA3028669A8EED386A6897A02C9C6A2FBF1470740B909702442564D787AF64283155A899C126305EBEC24B29DA3E14B867CC9448136769B2A4AB34A9A936A69F12B5288EBA794371F79E012D579A384B13B75D57A0E54A939A6E6B0C68B954D762F00F5E4AD1F6A1C03D63A6449AC096D64571D4CD1B8ABBF70C68B9187C1C2FA568FB5096749526B0A575511C75F386E2B6EB0AB45C0C7ECE4B29DA3E14B531FD944813D8D2BA288EBA7943715B6340CBA59AC1A0F4A821C3CB57F810FEC13FF8107E964189A982E2EE3D035AAE347196266EBBAE40CB952635DDD618D072A9AE4589A9420D611438CC5F9805A56F1AC3E0A821C3951253057C4A8CA1B8AD31A0E5529D26CE399726EEDE33A0E5A280B37D60F08F2C25A60ACF0C05D076BDAECD99260BBDCF340168C3A05808EB8E782A3628DB8132365BC6963D0EF54E8740953CA7EC0244BC14202A21BB3E7C0547E9514386979FF3210645370BD47C88D2378D6170D490E14A89A9023E25C65028E06C1F187C2543D111BA072FA258C83F861253C562FBC0A0B8DB384E735162AAF0CC50006DD7EBDA9C69B2D0FB4C1380360C06C56ABA6B0C2FC54298F3C453C9E232990E941F102E9351700A8E4095DC46B1907F0C2F05884AC8AE0F5F39284054028E1A32BC7C85AFF00FBEC2C7F1157ECE571814202A016F1AC3E0A821C395D2A3860C2F5FE143F807FFE043F8391FC787F0B3FC9CAF30283155A8218C0287F90BB3A0AC3E386AC8F0F2153EC43FF8101FC787F839F16C7936DBC9E48A3A0E972B79AE10A862CB1994982AE053620C8502442560BD68BB0C05B6DB75707A184A4C159E190AA0ED7A5D9B334D167A9F6902D0863245AF6D4E02283155380C302894982A28C5B3AF6328BA59A0E62B14FF3E03E41F0744E99BC630386AC8104001A212143CB3EB69A28AA74FA343A7C9BD1470B60F0C7E861253C562FBC0A0302846EFF36AE39B70EA51915D1FFE915374E94164D4D02E4181C3FC8559502C84EDD8A8F052BAF82A0704512A3E44B1D02E4181C3FC85593028E0E816202F05884AC8AE0F5FC95080A8041C356478F90A5FE11F7C858FE32BFC9CAF30283155A899C126305EBEC24B29DA3E14B867CC9448136769B2A4AB34A9A936A69F12B5288EBA794371F79E012D579A384B13B75D57A0E54A939A6E6B0C68B954D762F00F5E4AD1F6A1C03D63A6449AC096D64571D4CD1B8ABBF70C68B9187C1C2FA568FB5096749526B0A575511C75F386E2B6EB0AB45C0C7ECE4B29DA3E14B531FD944813D8D2BA288EBA7943715B6340CBA59AC1A0F4A821C3CB5788D739205B2703417916C275B2D90E812A361BFF205EE7806C9D0C04E55908D7C966B304AAD8707C1CF13A0764EB642028CF42B84E36DB2150C566E3E77C854189A9C229C6AE506449558BBB5C8D1253851AC2287098BF300BCAEA83A3860C2F5FE143FC830FF1717C889F132F8B83703625A3401D759C92C9B304AAD8720625A60AA718FB4179D887A1C454019F1263286E6B0C68B954A78973CEA589BBF70C68B928405402D68BB6CB5060BB5D07A787A1C454E11463C7511EF66128315578662880B6EB756DCE3459E87DA609401BCA14BDB63909A0C454E130C0A05062AAA0B87BCF80962B4D9CA589DBAE2BD072A5494DB73506B45CAA6B5174B340CD5728FE7D06C83F0E88D2378D6170D4902180024425287866D7D344154F9F46874E937B29E06C1F18FC234B89A962B17D605028405402DE3486C15143862B8362A6E9D88EA38676090A1CE62FCC826221AC3BE2A9647010A48EB3D90EF58C3A4EC9E604AAE439C5E87D5E6D7C134E3D2AB0402036E13C1FA2EC0244BC14202A21BB3E7C054701A21270D490E1E52B7C857FF0153E8EAFF073BEC2A000510978D31806470D1902283D6AC8F0F2153EC43FF8101FC787F8391F6250561F1C356478F90A1FE21F7C888FE343FC9C7819DCA1E4191CEEB065B379AE640854B1E11894982AE053620CC5DD7BC6B25CAA29405402D68BB6CB5060BB5D07A787A1C454E199A100DAAED7B539D364A1F79926006D2853F4DAE62480125385C30083E22EDA3E2E4A4C1594A2EDA36AB7719C46D1CD02351FA2F8F71920FF38208A8ED03D7811C542FE3114202A41C133BB9E26AA78FA343A749ADC4B0167FBC0E02B194A4C158BED0383E26EE338CD45E99BC630386AC8706550ECC851AF6DB83228E0E816202F658A5EDB9C04507AD490E1E52BC4EB1C90AD9381A03C0BE13AD96C9640151B8E7F10AF83CB3B50AE9EE3D433EA50C77610A862B3F171C4CB74B24A565DC976705047FD50CF10A862C33128FE7D06C8B7410C8A85B01D1B155E4AC557B165730625B4F14D8436BE095E8A2E3D888C1ADA25287098BF300B8A85B01D1B155E4A175FE58028151FA2586897A05C583506C54298F3C453B16571990EA428509E81700ACE46A04A6EA35808EB8E78D96C0752EF64D5D5B3074EFDC0E10854C9738A99A6633B8E1ADA25287098BF300B0A38BA05C84B01A212B2EBC357720A109580A3860C2F5FE12BFC83AFF0717C859FF3150625A60A3533D804C6CB57782945DB8702F78C991269E22C4D9674952635D5C6F453A216C551376F28EEDE33A0E54A136769E2B6EB0AB45C6952D36D8D012D97EA5A0CFEC14B29DA3E14B867CC944813D8D2BA288EBA794371F79E012D17838FE3A5146D1FCA92AED204B6B42E8AA36EDE50DC765D81968BC1CF792945DB87A236A69F1269025B5A17C551376F286E6B0C68B9543318941E356478F90A1FC23FF8071FC2CFF2717C08FFE0E77C854189A9420D611438CC5F980565F5C151438697AFF021FEC187F8383EC4CFF910BE8D4189A9023E25C650DCD618D072A9A6005109582FDA2E4381ED761D9C1E86125385678682D77450A6E8B5CD490025A60A87010685125305C5DD7B06B45C69E22C4DDC765D81962B4D6ABAAD31A0E5525D8BE2DF67807C0582287DD31806470D19AE14202A41C133BB9E26AA78FA343A749ADC4B0167FBC0E01F3925A68AC5F6814161502CE41FC34B99A2D73627574A4C158BED03834201A21270D490E1E52B7C857FF0153E8EAFF073BEC2A0F4A821C3CB57F810FEC13FF8107ECEC7F121FC2C3FE72B0C4A4C151477EF19CB72A589B33471DB7565592E4A4C156A08A3C061FEC22C28FE7D06C8572088B2FAE0A821C3CB57F810FFE0437C1C1FE2E7C4B3E5D96C27932BEA385CAEE4B942A08A2D675080A80405CFEC7A9AA8E2E9D3E8D069722F25A60AF894184371F79EB12C579A384B13B75D5796E5A2005109582FDA2E4381ED761D9C1E8602CEF681C1B75180A884ECFAF09583125385C300834289A9C23343C16B3A18945D8088973245AF6D4E0228405442767DF80A8E024425E0A821C3CB57F80AFFE02B7C1C5FE1E77C8541E951438697AFF021FC2CFFE043F8593E8E0FE11FFC9C0F3128AB0F8E1A32BC7C850FF10F3EC4C7F1217E4EBC4CAEDEC16595FCC81EB843513F0854B1E11814DD2C50F3218A7F9F01F21508A2E808DD8317512CE41F4301A212143CB3EB69A28AA74FA343A7C9BD94982AE053620CC55DB47D5C14202A01EB45DB6528B0DDAE83D3C350C0D93E30F84A4E89A962B17D6050283155380C302894982A3C3314BCA683C1A0AC08C370BC145D7A101935B44B50164EB5975F8A8530E789D7C165B31D481D52946CAE7E28590255F20CC542FE31BC94BE690C83A3860C570A38DB07063F4389A982E2EE3D6359AE347196266EBBAE2CCB4589A9420D611438CC5F980525A60ACF0C05D076BDAECD99260BBDCF340168C3A098693AB6E3A8A15D82B270AABDFC52C0D12D405E0A1095905D1FBE92A1C454A166069BC078F90A2FA568FB50E09E3153224D9CA5C992AED2A4A6DA987E4AD4A238EAE60DC5DD7B06B45C69E22C4DDC765D81962B4D6ABAAD31A0E5525D8BC13F782945DB8702F78C991269025B5A17C551376F28EEDE33A0E562F071BC94A2ED4359D2559AC096D64571D4CD1B8ADBAE2BD07231F8392FA568FB50D4C6F453224D604BEBA238EAE60DC56D8D012D976A0683D2A3860C2F5FE143F807FFE043F8590625A60A8ABBF70C68B9D2C4599AB8EDBA022D579AD4745B6340CBA5BA1625A60A358451E0307F611694BE690C83A3860C574A4C15F0293186E2B6C680964B759A38E75C9AB87BCF80968B02CEF681C13FB294982A3C331440DBF5BA36679A2CF43ED304A00D836221AC3BE2A9D8A06C07CA666C10AE93CDDAF29C40953CA7EC0244BC14202A21BB3E7C0547E9514386979FF3210645370BD47C88D2378D6170D490E14A89A9023E25C65028E06C1F187C2543D111BA072FA258C83F861253C562FBC0A0B8DB384E735162AAF0CC50006DD7EBDA9C69B2D0FB4C1380360C0605887A0FE3A5E8D283C8A8A15D820287F90BB3A05808DBB151E1A574F1551408A2547C8862A15D820287F90BB360502C84394F3C958E92818E1C6753B71D7927A3E404AAE4198A85FC63782953F4DAE6E44A89A962B17D6050284054028E1A32BC7C85AFF00FBEC2C7F1157ECE571894BE690C83A3860C574A8F1A32BC7C850FE11FFC830FE1E77C1C1FC2CFF273BEC2A0C4544171F79EB12C579A384B13B75D5796E5A2C454A186300A1CE62FCC82E2DF67807C058228AB0F8E1A32BC7C850FF10F3EC4C7F1217E4E3C5B9ECD7632B9A28EC3E54A9E2B04AAD8720605884A50F0CCAEA7892A9E3E8D0E9D26F75262AA804F89311477EF19CB72A589B33471DB7565592E0A109580F5A2ED3214D86ED7C1E96128E06C1F187C1B05884AC8AE0F5F39283155380C302894982A3C3314BCA68341B110D61DF13AEAB68CBAAD83CB731CA440B60C812A794E31D3746CC75143BB04050EF31766410147B700792953F4DAE624801253C562FBC0A05080A8041C356478F90A5FE11F7C858FE32BFC9CAF30283155A899C126305EBEC24B29DA3E14B867CC9448136769B2A4AB34A9A936A69F12B5288EBA794371F79E012D579A384B13B75D57A0E54A939A6E6B0C68B954D762F00F5E4AD1F6A1C03D63A6449AC096D64571D4CD1B8ABBF70C68B9187C1C2FA568FB5096749526B0A575511C75F386E2B6EB0AB45C0C7ECE4B29DA3E14B531FD944813D8D2BA288EBA7943715B6340CBA59AC1A0F4A821C3CB57F810FEC13FF8107E968FE343F8073FE72B0C4A4C151477EF19D072A589B33471DB75055AAE34A9E9B6C680964B752D4A4C156A08A3C061FEC22C28FE7D06C8572088B2FAE0A821C3CB57F810FFE0437C1C1FE2E77C08DFC6A00051090A9ED9F53451C5D3A7D1A1D3E45E4A4C15F0293186E2B6C680964B3505884AC07AD176190A6CB7EBE0F4301470B60F0CFE915362AA7018605028405442767DF84A4E89A9C23343C16B3A18945D8088973245AF6D4E0228405442767DF80A8E024425E0A821C3CB57F80AFFE02B7C1C5FE1E77C8541E951438697AFF021FC2CFFE043F8593E8E0FE11FFC9C0F312831552CB60F0C0A45370BD47C88E2DF67807C0582283A42F7E045140BF9C75080A80405CFEC7A9AA8E2E9D3E8D069722F25A60AF894184371176D1F1705884AC07AD176190A6CB7EBE0F4301470B60F0CBE925362AA7018605028AB0F8E1A32BC7C850FF10F3EC4C7F1217E4EBC4C46C933995C8120259B43999C40151B8E4189A9C23343C16B3A180CCA8A308C976221CC79E2E5EA369BA2D8A01C97C9E638DB41A04A9E532CE41FC34B99A2D736270114202A21BB3E7CE5A0005109386AC8F0F215BEC23FF80A1FC757F8395F61507AD490E1E52B7C08FFE01F7C083FE7E3F8107E969FF3150665F5C151438697AFF021FEC187F8383EC4CF899751D48F3CCF6421DCD151CF767004AAD87206C5BFCF00F9C701517484EEC18B28E0E8162005884A50F0CCAEA7892A9E3E8D0E9D26F75262AA804F8931140A109580F5A2ED3214D86ED7C1E96128E06C1F18FC0C25A60A870106851253C562FBC0A05062AAF0CC50006DD7EBDA9C69B2D0FB4C1380360C8AD1FBBCDAF8269C7A5464D7878F3B28669A8EED386A6897A02C9C6A2FBF945D80889702442564D787AFE0284054028E1A32BC7C85AFF00FBEC2C7F1157ECE5718941E356478F90A1FC2CFF20F3E849FE5E3F810FEC1CFF91083B2FAE0A821C3CB57F810FFE0437C1C1FE2E7C4CB74D4215BB603E1725C0782F22C812A361C831253057C4A8CA15080A804AC176D97A1C076BB0E4E0F4389A9C2334301B45DAF6B73A6C942EF334D00DA50A6E8B5CD490025A60A870106C55DB47D5C14DD2C50F3218A7F9F01F28F03A2F44D63181C3564B85280A80405CFEC7A9AA8E2E9D3E8D069722F059CED0383AF642831552CB60F0C8ABB8DE334174547E81EBC886221FF180645971E44460DED12948553EDE5978259BADFC5C7CF421470740B90973245AF6D4E0228405442767DF84A86024425E0A821C3CB57F80AFFE02B7C1C5FE1E77C8541597D70D490E1E52B7C887FF0213E8E0FF1733E846F63507AD490E1E52B7C08FFE01F7C083FCBC7F121FC839FF3150625A60A8ABBF70C68B9D2C4599AB8EDBA022D579AD4745B6340CBA5BA1625A60A87010685E2DF6780FCE380287DD31806470D19AE14202A41C133BB9E26AA78FA343A749ADC4B89A9023E25C650DCD618D072A94E13E79C4B1377EF19D0725180A804AC176D97A1C076BB0E4E0F430167FBC0E01F594A4C158BED038342011116BBEDE882A3860C0194982A3C331440DBF5BA36679A2CF43ED304A00D836221AC3BE2A9D88E3C8BB3E579E7C864D533191B812A794E317A9F571BDF84538F0A2C10884D74C7872846EFF36AE39B70EA51810502B109E7F91065D5D8A8216CC7468597D2C55739208852F1551408A2586897A05C58B58553EDE59741B110B663A3C24BE9225EC786B31DEA8ABA0DCAA8E73875750255721BA5E2AB28368862A15D82B270AABDFC32180C0A401B5ECA6A508D31182FE5C702BB39A5091CA176227F4993255DB46F0C2F050391DF41AFD3B8523010F99D7A5408A06020F2C3113227C695A2DBF6150A1CE62FCC828281C87FA70A0228C89C63F80A4459B5A13C2AC3A02CD3E51C83E1196D1F8C978281C8EFA0D7695C291888FC4E3D2A04503010F9E1089913E34AD16DFB0A050EF3176641C140E4BF5305011464CE317C05A2ACDA501E956150009E4F745F83978281C80F47C89C18578A6EDB57280E307897E261B36CFA6DD78D2B050391DF41AFD308A06020F23BF5A81040F1B011109970D0EB34AE1447D43CFB488CC587F0211B0599730C5F81281888FC77AA2080B26A437954864159DA67D93E30967946F3523010F9E1089913E34AD16DFB0A050EF3176641F1B05936FDB6EBC6958281C8EFA0D76904503010F99D7A5408A078D808884C38E8751A578A236A9E7D24C6E243F8908D82CC3986AF40140C44FE3B55104059B5A12CE95D00DA30284BFB2CDB0786746131765E0A06223F1C2173625C29BA6D5FA138C0E05D8A87CDB2E9B75D37AE140C447E07BD4E23808281C8EFD4A34200C5C3464064C241AFD3B8521C51F3EC2331161FC2876C1464CE317C05A26020F2DFA98200CAAA0D6549EF02D0864159DA67D93E302EAA3185978281C80F47C89C18578A6EDB57287098BF300B8A87CDB2E9B75D37AE140C447E07BD4E23808281C8EFD4A34200C5C3464064C241AFD3B8521C51F3EC2331161FC2876C1464CE317C05A26020F2DFA98200CAAA0DE551190665699F65FBC0E87ED43CFBF0523010F9E1089913E34AD16DFB0A65E1547BF9A578D82C9B7EDB75E34AC140E477D0EB34AE140C447EA71E1502281E360222130E7A9DC695E2889A671F89B1F8103E64A320738EE12B10050391FF4E150450566D284B7A1780360CCAD23ECBF681511BB593978281C80F47C89C18578A6EDB57280E307897E261B36CFA6DD78D2B050391DF41AFD308A06020F23BF5A81040F1B011109970D0EB34AE1447D43CFB488CC587F0211B0599730CFF80281888FC77AA2080B26A4359D2BB00B4615096F659B60F0C80F661BC140C447E3842E6C4B85274DBBE427180C1BB140F9B65D36FBB6E5C291888FC0E7A9D4600050391DFA94785008A878D80C884835EA771A538A2E6D947622C3E840FD928C89C63F80A44C140E4BF53050194551BCAA3320CCA45F68BEC2A6A1A8BE1A56020F23BE8751A570A0622BF538F0A01140C447E3842E6C4B85274DBBE4281C3FC8559503010F9EF5441000599730C5F8128AB369447651894A57D96ED03C301F53A362ABC140C447E3842E6C408A0E8B67D85B270AABDFC523C6C0444261CF43A8D2BC5C366D9F4DBAE1B570A0622BF835EA771A56020F23BF5A81040E91132E7B2E9B75D378C0F511C51F3EC2331161FC2876C1464CE31FC03A26020F2DFA98200CAAA0D6549EF02D0864159DA67D93E30E00DF53578291888FC7084CC8971A5E8B67D850287F90BB3A078D82C9B7EDB75E34AC140E477D0EB34AE140C447EA71E1502281E360222130E7A9DC695E2889A671F89B1F8103E64A320738EE11F10050391FF4E150450566D284B7A1780360CCA3264DF0561BC140C447E07BD4EE34AC140E477EA5121808281C80F47C89C18578A6EDB57287098BF300B0A0622FF9D2A08A020738EE12B1065D586F2A80C83B2B4CFB27D60D4F6763B79291888FC7084CC8971A5E8B67D85B270AABDFC523C6C964DBFEDBA71A56020F23BE8751A01140C447EA71E1502281E360222130E7A9DC695E2889A671F89B1F8103E64A320738EE1E710050391FF4E150450566D284B7A1780360CCAD23ECBF681B16C0381BC140C447E3842E6C4B85274DBBE425938D55E7E291E36CBA6DF76DDB8523010F91DF43A8D2B050391DFA94785008A878D80C884835EA771A538A2E6D947622C3E840FD928C89C63F838888281C87FA70A0228AB369425BD0B401B0665699F65FBC0C0337BCA89F1523010F9E1089913E34AD16DFB0A65E1547BF9A578D82C9B7EDB75E34AC140E477D0EB3402281888FC4E3D2A04503C6C0444261CF43A8D2BC51135CF3E1263F1217CC84641E61CC3CF210A0622FF9D2A08A0ACDA5096F42E006D1894A57D96ED03C3C9C1B1F1523010F9E1089913E34AD16DFB0AC50106EF523C6C964DBFEDBA71A56020F23BE8751A01140C447EA71E1502281E360222130E7A9DC695E2889A671F89B1F8103E64A320738EE12B10050391FF4E150450566D288FCA30284B1A5375BCE1A56020F23BE8751A570A0622BF538F0A01140C447E3842E6C4B85274DBBE4281C3FC8559503010F9EF5441000599730C5F8128AB36944765180C0A109580A3860C2FC5F0158A8FAF5056BEC2A034D4D79893000A66E97E171F5FB1519AC6A2FB51F3ECC3576C94551BA9B10B65699F65FBC0A00051098AAACCD62D4D5E1B83FC140F1B095D4E6DCEBBED430025508D29CB3716C874F1F2155E8A65763F7C1C9477A00E04411025B67DF84AA7031D195CA7A3CEE01FBC14CBEC7EF83828A328EA10044194D8F6E12B9D0E7464A06CB6C3E0E3782996D9FDF07190EDC86621088228B1EDC3573A1DE8B075A06C96C1CF792996D9FDF071109467B210044194D8F6E12B9D0E74D86C472767F06DBC14CBEC7EF838C806650E0882204A6CFBF0954E0752B2877AAE3018141F6AE7321D9A970230DB8E052ADDA3EAA6894A9A5CD0E8D67829DA8EBC12FC2CA4AE646CEA0AA56F1AC328DD4B550B075878F73128AAF20C32FAD4FEEEE9DE69A292261734BA355E8AB623AF041FA70E6570B9EDC0E1287DD3184651539583AA96393D83D2FD537CA34BDF3DAA469AA8A4496DB3EBF5D69526CB776B182FA56F1AC328CB6096607F79B7BF300B8AB623AF04DF66B375D40F75A593CD3028AAB24FDB3A4D54D2A4B6D9F57AEB4A93E5BB358C97D2378D619425D8EF3E8AB623AF041F673B8EEC91E33A1D0645CD339667749AA8A4496DB3EBF5D69526CB776B182FA56F1AC328CB16DD9C9651B41D7925F80A84537208B26572060556D7988281DDA36A4E3BD344254D6A9B5DAFB7AE3459BE5BC37829DA8EBC127C25ABD8D4B3995CA1F44D6318454D550EAA5AE6F40C0665D506E3A52CE95D00DAF052A6E8B5CD4900C542BB04E5C2AA51B05EB7E12B14202A41C133BB9E26AA78FA343A749ADC4BD1CD02351FC2CF50FCFB0C909F81200AD06BAD7BED33400228151FA2F4A821C34B317C085FA1F8F810BE4259F910BEC2A0603576A12CEDB36C1F181470B60F0CFE91532C7D9EBBF8F80A44E9E24394982A3C331440DBF5BA36278341F1B081378D6170D490218002442564D787AFE0180C0609",
}

function Setup:OnInitialize()
    self:RegisterMessage("MIDNIGHTUI_DB_READY", "OnDBReady")
end

function Setup:OnDBReady()
    if not MidnightUI.db.profile.modules.setup then 
        self:Disable()
        return 
    end
    
    self.db = MidnightUI.db:RegisterNamespace("Setup", defaults)
    
    -- Get framework systems
    FrameFactory = _G.MidnightUI_FrameFactory
    ColorPalette = _G.MidnightUI_ColorPalette
    FontKit = _G.MidnightUI_FontKit
    
    -- Show wizard on first login
    if not self.db.profile.hasCompletedSetup then
        C_Timer.After(2, function()
            self:ShowSetupWizard()
        end)
    end
end

function Setup:ShowSetupWizard()
    if self.wizardFrame then
        self.wizardFrame:Show()
        return
    end
    
    -- Create main wizard frame
    local frame = CreateFrame("Frame", "MidnightUI_SetupWizard", UIParent, "BackdropTemplate")
    frame:SetSize(600, 400)
    frame:SetPoint("CENTER")
    frame:SetFrameStrata("DIALOG")
    frame:SetMovable(true)
    frame:EnableMouse(true)
    frame:RegisterForDrag("LeftButton")
    frame:SetScript("OnDragStart", frame.StartMoving)
    frame:SetScript("OnDragStop", frame.StopMovingOrSizing)
    
    -- Apply themed backdrop
    if ColorPalette then
        frame:SetBackdrop({
            bgFile = "Interface\\Buttons\\WHITE8X8",
            edgeFile = "Interface\\Buttons\\WHITE8X8",
            tile = false,
            tileSize = 0,
            edgeSize = 2,
            insets = { left = 2, right = 2, top = 2, bottom = 2 }
        })
        frame:SetBackdropColor(ColorPalette:GetColor('panel-bg'))
        frame:SetBackdropBorderColor(ColorPalette:GetColor('panel-border'))
    else
        -- Fallback backdrop
        frame:SetBackdrop({
            bgFile = "Interface\\DialogFrame\\UI-DialogBox-Background",
            edgeFile = "Interface\\DialogFrame\\UI-DialogBox-Border",
            tile = true,
            tileSize = 32,
            edgeSize = 32,
            insets = { left = 8, right = 8, top = 8, bottom = 8 }
        })
        frame:SetBackdropColor(0, 0, 0, 1)
    end
    
    -- Create themed close button
    if FrameFactory then
        frame.closeButton = FrameFactory:CreateButton(frame, 24, 24, "")
        -- Make the  larger for visibility (standard theme size: 26)
        if frame.closeButton.text then
            local font, _, flags = frame.closeButton.text:GetFont()
            frame.closeButton.text:SetFont(font, 26, flags)
        end
    else
        frame.closeButton = CreateFrame("Button", nil, frame, "BackdropTemplate")
        frame.closeButton:SetSize(24, 24)
        frame.closeButton:SetBackdrop({
            bgFile = "Interface\\Buttons\\WHITE8X8",
            edgeFile = "Interface\\Buttons\\WHITE8X8",
            tile = false,
            tileSize = 0,
            edgeSize = 1,
            insets = { left = 1, right = 1, top = 1, bottom = 1 }
        })
        frame.closeButton:SetBackdropColor(0.3, 0, 0, 0.8)
        frame.closeButton:SetBackdropBorderColor(0.5, 0, 0, 1)
        
        local text = frame.closeButton:CreateFontString(nil, "OVERLAY")
        text:SetFont("Fonts\\FRIZQT__.TTF", 26, "OUTLINE")
        text:SetText("")
        text:SetPoint("CENTER", 0, 0)
        text:SetTextColor(1, 1, 1)
    end
    frame.closeButton:SetPoint("TOPRIGHT", -5, -5)
    frame.closeButton:SetScript("OnClick", function()
        frame:Hide()
    end)
    
    frame.title = frame:CreateFontString(nil, "OVERLAY", "GameFontHighlightLarge")
    frame.title:SetPoint("TOP", 0, -10)
    frame.title:SetText("MidnightUI First Time Setup")
    
    -- Apply themed font and color
    if FontKit then
        FontKit:SetFont(frame.title, 'header', 'large')
    end
    if ColorPalette then
        frame.title:SetTextColor(ColorPalette:GetColor('text-primary'))
    end
    
    -- Current step tracker
    frame.currentStep = 1
    frame.selectedResolution = nil
    
    -- Content area
    frame.content = CreateFrame("Frame", nil, frame)
    frame.content:SetPoint("TOPLEFT", 15, -35)
    frame.content:SetPoint("BOTTOMRIGHT", -15, 50)
    
    -- Create step 1: Welcome & Resolution Selection
    self:CreateStep1(frame)
    
    -- Create step 2: Confirmation
    self:CreateStep2(frame)
    
    -- Navigation buttons
    if FrameFactory then
        frame.backButton = FrameFactory:CreateButton(frame, 100, 25, "Back")
    else
        frame.backButton = CreateFrame("Button", nil, frame, "UIPanelButtonTemplate")
        frame.backButton:SetSize(100, 25)
        frame.backButton:SetText("Back")
    end
    frame.backButton:SetPoint("BOTTOMLEFT", 15, 15)
    frame.backButton:Hide()
    frame.backButton:SetScript("OnClick", function()
        self:GoToStep(frame, frame.currentStep - 1)
    end)
    
    if FrameFactory then
        frame.nextButton = FrameFactory:CreateButton(frame, 100, 25, "Next")
    else
        frame.nextButton = CreateFrame("Button", nil, frame, "UIPanelButtonTemplate")
        frame.nextButton:SetSize(100, 25)
        frame.nextButton:SetText("Next")
    end
    frame.nextButton:SetPoint("BOTTOMRIGHT", -15, 15)
    frame.nextButton:SetScript("OnClick", function()
        if frame.currentStep == 1 then
            if not frame.selectedResolution then
                print("MidnightUI: Please select a resolution first!")
                return
            end
            self:GoToStep(frame, 2)
        elseif frame.currentStep == 2 then
            self:CompleteSetup(frame)
        end
    end)
    
    if FrameFactory then
        frame.skipButton = FrameFactory:CreateButton(frame, 100, 25, "Skip Setup")
    else
        frame.skipButton = CreateFrame("Button", nil, frame, "UIPanelButtonTemplate")
        frame.skipButton:SetSize(100, 25)
        frame.skipButton:SetText("Skip Setup")
    end
    frame.skipButton:SetPoint("BOTTOM", 0, 15)
    frame.skipButton:SetScript("OnClick", function()
        self.db.profile.hasCompletedSetup = true
        frame:Hide()
        print("MidnightUI: Setup skipped. You can run this again from the settings.")
    end)
    
    self.wizardFrame = frame
    self:GoToStep(frame, 1)
    frame:Show()
end

function Setup:CreateStep1(frame)
    local step1 = CreateFrame("Frame", nil, frame.content)
    step1:SetAllPoints()
    step1:Hide()
    
    -- Welcome text
    local welcomeText = step1:CreateFontString(nil, "OVERLAY", "GameFontNormalLarge")
    welcomeText:SetPoint("TOP", 0, -20)
    welcomeText:SetText("Welcome to MidnightUI!")
    if ColorPalette then
        welcomeText:SetTextColor(ColorPalette:GetColor('accent-primary'))
    else
        welcomeText:SetTextColor(0, 1, 0)
    end
    if FontKit then
        FontKit:SetFont(welcomeText, 'header', 'large')
    end
    
    local infoText = step1:CreateFontString(nil, "OVERLAY", "GameFontNormal")
    infoText:SetPoint("TOP", welcomeText, "BOTTOM", 0, -15)
    infoText:SetWidth(550)
    infoText:SetJustifyH("LEFT")
    infoText:SetText("This wizard will help you set up MidnightUI with optimized settings for your screen resolution.\n\nPlease select your monitor's resolution:")
    if FontKit then
        FontKit:SetFont(infoText, 'body', 'normal')
    end
    
    -- Resolution selection buttons
    local resolutions = {
        {name = "4K (3840 x 2160)", key = "4K", y = -120},
        {name = "1440p (2560 x 1440)", key = "1440p", y = -170},
        {name = "1080p (1920 x 1080)", key = "1080p", y = -220},
    }
    
    step1.resButtons = {}
    for _, res in ipairs(resolutions) do
        local btn
        if FrameFactory then
            btn = FrameFactory:CreateButton(step1, 300, 35, res.name)
        else
            btn = CreateFrame("Button", nil, step1, "UIPanelButtonTemplate")
            btn:SetSize(300, 35)
            btn:SetText(res.name)
        end
        btn:SetPoint("TOP", 0, res.y)
        btn.resKey = res.key
        
        -- Create selection highlight
        btn.highlight = btn:CreateTexture(nil, "BACKGROUND")
        btn.highlight:SetPoint("TOPLEFT", btn, "TOPLEFT", -4, 4)
        btn.highlight:SetPoint("BOTTOMRIGHT", btn, "BOTTOMRIGHT", 4, -4)
        if ColorPalette then
            btn.highlight:SetColorTexture(ColorPalette:GetColor('accent-primary'))
        else
            btn.highlight:SetColorTexture(0, 1, 0, 0.6)
        end
        btn.highlight:Hide()
        
        btn:SetScript("OnClick", function(self)
            frame.selectedResolution = self.resKey
            -- Update button states
            for _, b in ipairs(step1.resButtons) do
                if b == self then
                    b.highlight:Show()
                else
                    b.highlight:Hide()
                end
            end
        end)
        table.insert(step1.resButtons, btn)
    end
    
    frame.step1 = step1
end

function Setup:CreateStep2(frame)
    local step2 = CreateFrame("Frame", nil, frame.content)
    step2:SetAllPoints()
    step2:Hide()
    
    local titleText = step2:CreateFontString(nil, "OVERLAY", "GameFontNormalLarge")
    titleText:SetPoint("TOP", 0, -20)
    titleText:SetText("Ready to Configure")
    if ColorPalette then
        titleText:SetTextColor(ColorPalette:GetColor('accent-primary'))
    else
        titleText:SetTextColor(0, 1, 0)
    end
    if FontKit then
        FontKit:SetFont(titleText, 'header', 'large')
    end
    
    step2.infoText = step2:CreateFontString(nil, "OVERLAY", "GameFontNormal")
    step2.infoText:SetPoint("TOP", titleText, "BOTTOM", 0, -20)
    step2.infoText:SetWidth(550)
    step2.infoText:SetJustifyH("LEFT")
    if FontKit then
        FontKit:SetFont(step2.infoText, 'body', 'normal')
    end
    
    local detailsText = step2:CreateFontString(nil, "OVERLAY", "GameFontNormal")
    detailsText:SetPoint("TOP", step2.infoText, "BOTTOM", 0, -30)
    detailsText:SetWidth(550)
    detailsText:SetJustifyH("LEFT")
    detailsText:SetText("The following will be configured:\n\n WoW Edit Mode layout optimized for your resolution\n MidnightUI bar positions and scaling\n Unit frame positions\n\nClick 'Finish' to apply the configuration.\n\n|cffff0000Note: This will reload your UI.|r")
    if FontKit then
        FontKit:SetFont(detailsText, 'body', 'normal')
    end
    
    frame.step2 = step2
end

function Setup:GoToStep(frame, step)
    frame.currentStep = step
    
    -- Hide all steps
    frame.step1:Hide()
    frame.step2:Hide()
    
    -- Show current step
    if step == 1 then
        frame.step1:Show()
        frame.backButton:Hide()
        frame.nextButton:SetText("Next")
        frame.nextButton:Enable()
    elseif step == 2 then
        frame.step2:Show()
        frame.backButton:Show()
        frame.nextButton:SetText("Finish")
        
        -- Update confirmation text
        local resName = frame.selectedResolution == "4K" and "4K (3840 x 2160)" or 
                       frame.selectedResolution == "1440p" and "1440p (2560 x 1440)" or 
                       "1080p (1920 x 1080)"
        frame.step2.infoText:SetText("You have selected: |cff00ff00" .. resName .. "|r")
    end
end

function Setup:CompleteSetup(frame)
    local res = frame.selectedResolution
    if not res then return end
    
    -- Check if 4K is selected (not yet supported)
    if res == "4K" then
        print("|cffff0000MidnightUI:|r 4K presets are not available yet. Please choose 1440p or 1080p.")
        return
    end
    
    print("MidnightUI: Applying " .. res .. " configuration...")
    
    -- Import Edit Mode preset
    if editModePresets[res] and editModePresets[res] ~= "YOUR_" .. res:upper():gsub("P", "") .. "_EDIT_MODE_STRING_HERE" then
        local success = pcall(function()
            C_EditMode.SetLayouts(C_EditMode.ConvertStringToLayoutInfo(editModePresets[res]))
        end)
        if success then
            print("MidnightUI: Edit Mode layout imported successfully")
        else
            print("MidnightUI: Failed to import Edit Mode layout")
        end
    else
        print("MidnightUI: No Edit Mode preset configured for " .. res)
    end
    
    -- Import MidnightUI preset
    if midnightUIPresets[res] and midnightUIPresets[res] ~= "YOUR_" .. res:upper():gsub("P", "") .. "_MIDNIGHTUI_STRING_HERE" then
        -- Use the DoImport function from Core to apply the preset (suppress its reload dialog)
        local success = pcall(function()
            MidnightUI:DoImport(midnightUIPresets[res], nil, true)
        end)
        if success then
            print("MidnightUI: Profile preset imported successfully")
        else
            print("MidnightUI: Failed to import profile preset")
        end
    else
        print("MidnightUI: No MidnightUI preset configured for " .. res)
    end
    
    -- Mark setup as complete
    self.db.profile.hasCompletedSetup = true
    frame:Hide()
    
    -- Show reload confirmation with secure reload button
    StaticPopupDialogs["MIDNIGHTUI_SETUP_COMPLETE"] = {
        text = "MidnightUI: Setup complete! Your UI needs to reload to apply the changes.",
        button1 = "Reload Now",
        button2 = "Later",
        OnAccept = function()
            ReloadUI()
        end,
        timeout = 0,
        whileDead = true,
        hideOnEscape = true,
        preferredIndex = 3,
    }
    StaticPopup_Show("MIDNIGHTUI_SETUP_COMPLETE")
end

function Setup:GetOptions()
    return {
        type = "group",
        name = "Setup Wizard",
        args = {
            runSetup = {
                name = "Run Setup Wizard",
                desc = "Run the first-time setup wizard again",
                type = "execute",
                order = 1,
                dialogControl = "MidnightButton",
                func = function()
                    self:ShowSetupWizard()
                end
            },
            resetSetup = {
                name = "Reset Setup Status",
                desc = "Mark setup as not completed so it runs again on next login",
                type = "execute",
                order = 2,
                dialogControl = "MidnightButton",
                func = function()
                    self.db.profile.hasCompletedSetup = false
                    print("MidnightUI: Setup status reset. The wizard will appear on next login.")
                end
            }
        }
    }
end

return Setup
